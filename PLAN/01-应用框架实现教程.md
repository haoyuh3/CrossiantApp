# åº”ç”¨æ¡†æ¶å®ç°æ•™ç¨‹

## ğŸ“š å­¦ä¹ ç›®æ ‡

å®Œæˆæœ¬æ•™ç¨‹åï¼Œä½ å°†å­¦ä¼šï¼š
1. âœ… ä½¿ç”¨Jetpack Composeåˆ›å»ºåº•éƒ¨å¯¼èˆªæ 
2. âœ… å®ç°Tabåˆ‡æ¢å’Œé¡µé¢å¯¼èˆª
3. âœ… åˆ›å»ºé¦–é¡µçš„Tabæ 
4. âœ… æ­å»ºåŸºç¡€çš„å¯¼èˆªç³»ç»Ÿ
5. âœ… ç†è§£Composeä¸­çš„çŠ¶æ€ç®¡ç†

---

## ğŸ—ï¸ æ•´ä½“æ¶æ„

```
MainActivity
    â””â”€â”€ MainScreen (åŒ…å«åº•éƒ¨å¯¼èˆª)
            â”œâ”€â”€ HomeScreen (é¦–é¡µ - åŒ…å«é¡¶éƒ¨Tab)
            â”œâ”€â”€ ProfileScreen (ä¸ªäººä¸»é¡µ)
            â””â”€â”€ PlaceholderScreen (å ä½é¡µé¢)
```

---

## ç¬¬ä¸€éƒ¨åˆ†ï¼šåº•éƒ¨å¯¼èˆªæ å®ç°

### 1.1 æ¦‚å¿µç†è§£

**åº•éƒ¨å¯¼èˆªæ **ï¼ˆBottom Navigation Barï¼‰æ˜¯Material Designä¸­çš„å¸¸è§å¯¼èˆªæ¨¡å¼ï¼š
- åŒ…å«3-5ä¸ªç›®æ ‡å…¥å£
- ä½äºå±å¹•åº•éƒ¨
- ç”¨äºåœ¨åº”ç”¨çš„é¡¶çº§ç›®çš„åœ°ä¹‹é—´åˆ‡æ¢

åœ¨æœ¬é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬æœ‰5ä¸ªTabï¼š
- é¦–é¡µï¼ˆå¯ç‚¹å‡»ï¼‰âœ“
- æœ‹å‹ï¼ˆå ä½ç¬¦ï¼‰
- ç›¸æœºï¼ˆå ä½ç¬¦ï¼‰
- æ¶ˆæ¯ï¼ˆå ä½ç¬¦ï¼‰
- æˆ‘ï¼ˆå¯ç‚¹å‡»ï¼‰âœ“

### 1.2 åˆ›å»ºåº•éƒ¨å¯¼èˆªæ•°æ®æ¨¡å‹

**æ–‡ä»¶è·¯å¾„**: `presentation/components/BottomNavigationBar.kt`

```kotlin
//package com.bytedance.crossiantapp.presentation.components
//
//import androidx.compose.material.icons.Icons
//import androidx.compose.material.icons.filled.*
//import androidx.compose.ui.graphics.vector.ImageVector

/**
 * åº•éƒ¨å¯¼èˆªé¡¹æšä¸¾
 * å®šä¹‰æ‰€æœ‰çš„åº•éƒ¨Tab
 */
enum class BottomNavItem(
    val route: String,          // è·¯ç”±è·¯å¾„
    val title: String,          // æ˜¾ç¤ºæ ‡é¢˜
    val icon: ImageVector,      // å›¾æ ‡
    val isEnabled: Boolean = true  // æ˜¯å¦å¯ç‚¹å‡»
) {
    HOME(
        route = "home",
        title = "é¦–é¡µ",
        icon = Icons.Default.Home,
        isEnabled = true
    ),
    FRIENDS(
        route = "friends",
        title = "æœ‹å‹",
        icon = Icons.Default.People,
        isEnabled = false  // å ä½ç¬¦ï¼Œä¸å¯ç‚¹å‡»
    ),
    CAMERA(
        route = "camera",
        title = "",  // ç›¸æœºæŒ‰é’®é€šå¸¸ä¸æ˜¾ç¤ºæ–‡å­—
        icon = Icons.Default.AddCircle,
        isEnabled = false  // å ä½ç¬¦ï¼Œä¸å¯ç‚¹å‡»
    ),
    MESSAGE(
        route = "message",
        title = "æ¶ˆæ¯",
        icon = Icons.Default.Chat,
        isEnabled = false  // å ä½ç¬¦ï¼Œä¸å¯ç‚¹å‡»
    ),
    PROFILE(
        route = "profile",
        title = "æˆ‘",
        icon = Icons.Default.Person,
        isEnabled = true
    )
}
```

**çŸ¥è¯†ç‚¹**ï¼š
- `enum class`ï¼šæšä¸¾ç±»ï¼Œç”¨äºå®šä¹‰ä¸€ç»„å›ºå®šçš„å¸¸é‡
- `ImageVector`ï¼šComposeä¸­çš„çŸ¢é‡å›¾æ ‡ç±»å‹
- `Icons.Default.*`ï¼šMaterial Designçš„é»˜è®¤å›¾æ ‡åº“

### 1.3 åˆ›å»ºåº•éƒ¨å¯¼èˆªæ ç»„ä»¶

```kotlin
//import androidx.compose.material3.*
//import androidx.compose.runtime.Composable
//import androidx.compose.ui.Modifier
//import androidx.compose.ui.graphics.Color
//import androidx.compose.ui.unit.dp

/**
 * åº•éƒ¨å¯¼èˆªæ ç»„ä»¶
 *
 * @param selectedItem å½“å‰é€‰ä¸­çš„Tab
 * @param onItemSelected ç‚¹å‡»Tabæ—¶çš„å›è°ƒå‡½æ•°
 * @param modifier ä¿®é¥°ç¬¦
 */
@Composable
fun BottomNavigationBar(
    selectedItem: BottomNavItem,
    onItemSelected: (BottomNavItem) -> Unit,
    modifier: Modifier = Modifier
) {
    NavigationBar(
        modifier = modifier,
        containerColor = Color.White,  // èƒŒæ™¯è‰²
        tonalElevation = 8.dp  // é˜´å½±é«˜åº¦
    ) {
        // éå†æ‰€æœ‰çš„åº•éƒ¨å¯¼èˆªé¡¹
        BottomNavItem.entries.forEach { item ->
            NavigationBarItem(
                // æ˜¯å¦é€‰ä¸­
                selected = selectedItem == item,

                // ç‚¹å‡»äº‹ä»¶
                onClick = {
                    // åªæœ‰isEnabled=trueçš„æ‰èƒ½ç‚¹å‡»
                    if (item.isEnabled) {
                        onItemSelected(item)
                    }
                },

                // å›¾æ ‡
                icon = {
                    Icon(
                        imageVector = item.icon,
                        contentDescription = item.title,
                        // ç›¸æœºæŒ‰é’®å¯ä»¥è®¾ç½®å¤§ä¸€ç‚¹
                        modifier = if (item == BottomNavItem.CAMERA) {
                            Modifier.size(32.dp)
                        } else {
                            Modifier
                        }
                    )
                },

                // æ ‡ç­¾æ–‡å­—
                label = {
                    if (item.title.isNotEmpty()) {
                        Text(text = item.title)
                    }
                },

                // æ˜¯å¦å¯ç”¨ï¼ˆæ§åˆ¶æ˜¯å¦å¯ç‚¹å‡»ï¼‰
                enabled = item.isEnabled,

                // é¢œè‰²é…ç½®
                colors = NavigationBarItemDefaults.colors(
                    selectedIconColor = Color.Black,  // é€‰ä¸­æ—¶å›¾æ ‡é¢œè‰²
                    unselectedIconColor = Color.Gray, // æœªé€‰ä¸­æ—¶å›¾æ ‡é¢œè‰²
                    selectedTextColor = Color.Black,  // é€‰ä¸­æ—¶æ–‡å­—é¢œè‰²
                    unselectedTextColor = Color.Gray, // æœªé€‰ä¸­æ—¶æ–‡å­—é¢œè‰²
                    indicatorColor = Color.Transparent // é€‰ä¸­æŒ‡ç¤ºå™¨é¢œè‰²ï¼ˆé€æ˜ï¼‰
                )
            )
        }
    }
}
```

**çŸ¥è¯†ç‚¹**ï¼š
- `@Composable`ï¼šæ ‡è®°è¿™æ˜¯ä¸€ä¸ªå¯ç»„åˆå‡½æ•°ï¼ˆCompose UIçš„åŸºæœ¬å•ä½ï¼‰
- `NavigationBar`ï¼šMaterial 3çš„åº•éƒ¨å¯¼èˆªæ å®¹å™¨
- `NavigationBarItem`ï¼šåº•éƒ¨å¯¼èˆªæ çš„å•ä¸ªé¡¹
- `forEach`ï¼šéå†æ‰€æœ‰æšä¸¾å€¼
- Lambdaè¡¨è¾¾å¼ï¼š`onItemSelected: (BottomNavItem) -> Unit` æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°
- `if`è¡¨è¾¾å¼ï¼šKotlinä¸­ifæ˜¯è¡¨è¾¾å¼ï¼Œå¯ä»¥è¿”å›å€¼

### 1.4 ä½¿ç”¨ç¤ºä¾‹

```kotlin
//import androidx.compose.runtime.*

@Composable
fun MainScreen() {
    // ä½¿ç”¨rememberä¿å­˜é€‰ä¸­çš„TabçŠ¶æ€
    var selectedTab by remember { mutableStateOf(BottomNavItem.HOME) }

    Scaffold(
        bottomBar = {
            BottomNavigationBar(
                selectedItem = selectedTab,
                onItemSelected = { item ->
                    selectedTab = item
                }
            )
        }
    ) { paddingValues ->
        // æ ¹æ®é€‰ä¸­çš„Tabæ˜¾ç¤ºä¸åŒçš„å†…å®¹
        when (selectedTab) {
            BottomNavItem.HOME -> HomeScreen(
                modifier = Modifier.padding(paddingValues)
            )
            BottomNavItem.PROFILE -> ProfileScreen(
                modifier = Modifier.padding(paddingValues)
            )
            else -> {
                // å…¶ä»–Tabæš‚æ—¶ä¸å®ç°
            }
        }
    }
}
```

**çŸ¥è¯†ç‚¹**ï¼š
- `remember`ï¼šè®°ä½çŠ¶æ€ï¼Œåœ¨é‡ç»„æ—¶ä¿æŒä¸å˜
- `mutableStateOf`ï¼šåˆ›å»ºå¯å˜çš„çŠ¶æ€
- `by`å…³é”®å­—ï¼šå±æ€§å§”æ‰˜è¯­æ³•ç³–
- `Scaffold`ï¼šè„šæ‰‹æ¶å¸ƒå±€ï¼Œæä¾›åŸºç¡€çš„Material Designå¸ƒå±€ç»“æ„
- `when`è¡¨è¾¾å¼ï¼šç±»ä¼¼Java/Cçš„switchï¼Œä½†æ›´å¼ºå¤§

---

## ç¬¬äºŒéƒ¨åˆ†ï¼šé¦–é¡µTabæ å®ç°

### 2.1 æ¦‚å¿µç†è§£

**Tabæ **ï¼ˆTab Rowï¼‰ç”¨äºåœ¨åŒä¸€å±‚çº§çš„å†…å®¹ä¹‹é—´åˆ‡æ¢ï¼š
- ä½äºé¡µé¢é¡¶éƒ¨
- æ”¯æŒæ¨ªå‘æ»‘åŠ¨
- å¯ä»¥æœ‰ä¸‹åˆ’çº¿æŒ‡ç¤ºå™¨

åœ¨æœ¬é¡¹ç›®ä¸­ï¼Œé¦–é¡µæœ‰6ä¸ªTabï¼š
- åŒ—äº¬
- å›¢è´­
- å…³æ³¨
- ç¤¾åŒºï¼ˆé»˜è®¤é€‰ä¸­ï¼‰âœ“
- æ¨è
- æœç´¢Icon

### 2.2 åˆ›å»ºé¦–é¡µTabæ•°æ®æ¨¡å‹

**æ–‡ä»¶è·¯å¾„**: `presentation/home/HomeTabItem.kt`

```kotlin
//package com.bytedance.crossiantapp.presentation.home
//
//import androidx.compose.material.icons.Icons
//import androidx.compose.material.icons.filled.Search

/**
 * é¦–é¡µTabé¡¹æšä¸¾
 */
enum class HomeTabItem(
    val title: String,
    val isDefault: Boolean = false,  // æ˜¯å¦é»˜è®¤é€‰ä¸­
    val isEnabled: Boolean = false   // æ˜¯å¦å¯ç‚¹å‡»ï¼ˆç›®å‰åªæœ‰"ç¤¾åŒº"å¯ç”¨ï¼‰
) {
    BEIJING("åŒ—äº¬", isDefault = false, isEnabled = false),
    GROUP_BUY("å›¢è´­", isDefault = false, isEnabled = false),
    FOLLOW("å…³æ³¨", isDefault = false, isEnabled = false),
    COMMUNITY("ç¤¾åŒº", isDefault = true, isEnabled = true),  // é»˜è®¤é€‰ä¸­
    RECOMMEND("æ¨è", isDefault = false, isEnabled = false);

    companion object {
        /**
         * è·å–é»˜è®¤Tab
         */
        fun getDefault() = entries.first { it.isDefault }
    }
}
```

**çŸ¥è¯†ç‚¹**ï¼š
- `companion object`ï¼šä¼´ç”Ÿå¯¹è±¡ï¼Œç±»ä¼¼Javaçš„é™æ€æˆå‘˜
- `entries`ï¼šKotlin 1.9+ä¸­è·å–æ‰€æœ‰æšä¸¾å€¼çš„æ–°æ–¹å¼
- `first { }`ï¼šæ‰¾åˆ°ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„å…ƒç´ 

### 2.3 åˆ›å»ºé¦–é¡µTabæ ç»„ä»¶

**æ–‡ä»¶è·¯å¾„**: `presentation/home/components/HomeTabRow.kt`

```kotlin
//package com.bytedance.crossiantapp.presentation.home.components
//
//import androidx.compose.foundation.layout.*
//import androidx.compose.material.icons.Icons
//import androidx.compose.material.icons.filled.Search
//import androidx.compose.material3.*
//import androidx.compose.runtime.Composable
//import androidx.compose.ui.Alignment
//import androidx.compose.ui.Modifier
//import androidx.compose.ui.graphics.Color
//import androidx.compose.ui.unit.dp
//import com.bytedance.crossiantapp.presentation.home.HomeTabItem

/**
 * é¦–é¡µé¡¶éƒ¨Tabæ 
 *
 * @param selectedTab å½“å‰é€‰ä¸­çš„Tab
 * @param onTabSelected ç‚¹å‡»Tabçš„å›è°ƒ
 * @param modifier ä¿®é¥°ç¬¦
 */
@Composable
fun HomeTabRow(
    selectedTab: HomeTabItem,
    onTabSelected: (HomeTabItem) -> Unit,
    modifier: Modifier = Modifier
) {
    Row(
        modifier = modifier
            .fillMaxWidth()
            .height(48.dp)
            .padding(horizontal = 16.dp),
        horizontalArrangement = Arrangement.SpaceBetween,  // ä¸¤ç«¯å¯¹é½
        verticalAlignment = Alignment.CenterVertically
    ) {
        // å·¦ä¾§çš„Tabåˆ—è¡¨
        Row(
            horizontalArrangement = Arrangement.spacedBy(24.dp),
            verticalAlignment = Alignment.CenterVertically
        ) {
            HomeTabItem.entries.forEach { tab ->
                HomeTabButton(
                    tab = tab,
                    isSelected = selectedTab == tab,
                    onClick = {
                        if (tab.isEnabled) {
                            onTabSelected(tab)
                        }
                    }
                )
            }
        }

        // å³ä¾§çš„æœç´¢å›¾æ ‡
        IconButton(
            onClick = { /* æœç´¢åŠŸèƒ½æš‚ä¸å®ç° */ },
            enabled = false
        ) {
            Icon(
                imageVector = Icons.Default.Search,
                contentDescription = "æœç´¢",
                tint = Color.Gray
            )
        }
    }
}

/**
 * å•ä¸ªTabæŒ‰é’®
 */
@Composable
private fun HomeTabButton(
    tab: HomeTabItem,
    isSelected: Boolean,
    onClick: () -> Unit,
    modifier: Modifier = Modifier
) {
    Column(
        modifier = modifier,
        horizontalAlignment = Alignment.CenterHorizontally
    ) {
        // Tabæ–‡å­—
        TextButton(
            onClick = onClick,
            enabled = tab.isEnabled,
            contentPadding = PaddingValues(horizontal = 8.dp, vertical = 4.dp)
        ) {
            Text(
                text = tab.title,
                style = MaterialTheme.typography.titleMedium,
                color = if (isSelected) Color.Black else Color.Gray,
                fontWeight = if (isSelected) {
                    androidx.compose.ui.text.font.FontWeight.Bold
                } else {
                    androidx.compose.ui.text.font.FontWeight.Normal
                }
            )
        }

        // é€‰ä¸­æ—¶çš„ä¸‹åˆ’çº¿
        if (isSelected) {
            Box(
                modifier = Modifier
                    .width(24.dp)
                    .height(3.dp)
                    .background(Color.Black)
            )
        } else {
            Spacer(modifier = Modifier.height(3.dp))
        }
    }
}
```

**çŸ¥è¯†ç‚¹**ï¼š
- `Row`ï¼šæ¨ªå‘å¸ƒå±€å®¹å™¨
- `Column`ï¼šçºµå‘å¸ƒå±€å®¹å™¨
- `Arrangement.SpaceBetween`ï¼šå­å…ƒç´ ä¸¤ç«¯å¯¹é½ï¼Œä¸­é—´å‡åŒ€åˆ†å¸ƒ
- `Arrangement.spacedBy`ï¼šå­å…ƒç´ ä¹‹é—´çš„é—´è·
- `fillMaxWidth()`ï¼šå¡«å……æœ€å¤§å®½åº¦
- `padding`ï¼šå†…è¾¹è·
- `background`ï¼šèƒŒæ™¯è‰²
- `MaterialTheme.typography`ï¼šMaterialä¸»é¢˜çš„å­—ä½“æ ·å¼

---

## ç¬¬ä¸‰éƒ¨åˆ†ï¼šä¸ªäººä¸»é¡µå®ç°

### 3.1 ç®€æ´çš„ä¸ªäººä¸»é¡µ

**æ–‡ä»¶è·¯å¾„**: `presentation/profile/ProfileScreen.kt`

```kotlin
//package com.bytedance.crossiantapp.presentation.profile
//
//import androidx.compose.foundation.Image
//import androidx.compose.foundation.background
//import androidx.compose.foundation.layout.*
//import androidx.compose.foundation.shape.CircleShape
//import androidx.compose.material.icons.Icons
//import androidx.compose.material.icons.filled.Person
//import androidx.compose.material3.*
//import androidx.compose.runtime.Composable
//import androidx.compose.ui.Alignment
//import androidx.compose.ui.Modifier
//import androidx.compose.ui.draw.clip
//import androidx.compose.ui.graphics.Color
//import androidx.compose.ui.text.font.FontWeight
//import androidx.compose.ui.unit.dp
//import androidx.compose.ui.unit.sp

/**
 * ä¸ªäººä¸»é¡µï¼ˆç®€æ´ç‰ˆï¼‰
 */
@Composable
fun ProfileScreen(
    modifier: Modifier = Modifier
) {
    Column(
        modifier = modifier
            .fillMaxSize()
            .background(Color.White)
            .padding(16.dp),
        horizontalAlignment = Alignment.CenterHorizontally,
        verticalArrangement = Arrangement.spacedBy(16.dp)
    ) {
        Spacer(modifier = Modifier.height(40.dp))

        // å¤´åƒ
        Icon(
            imageVector = Icons.Default.Person,
            contentDescription = "å¤´åƒ",
            modifier = Modifier
                .size(80.dp)
                .clip(CircleShape)
                .background(Color.LightGray)
                .padding(16.dp),
            tint = Color.White
        )

        // æ˜µç§°
        Text(
            text = "ç”¨æˆ·æ˜µç§°",
            fontSize = 24.sp,
            fontWeight = FontWeight.Bold,
            color = Color.Black
        )

        // ç®€ä»‹
        Text(
            text = "è¿™é‡Œæ˜¯ä¸ªäººç®€ä»‹",
            fontSize = 14.sp,
            color = Color.Gray
        )

        Spacer(modifier = Modifier.height(24.dp))

        // ç»Ÿè®¡ä¿¡æ¯
        Row(
            modifier = Modifier.fillMaxWidth(),
            horizontalArrangement = Arrangement.SpaceEvenly
        ) {
            ProfileStatItem(label = "å…³æ³¨", count = "0")
            ProfileStatItem(label = "ç²‰ä¸", count = "0")
            ProfileStatItem(label = "è·èµ", count = "0")
        }
    }
}

/**
 * ä¸ªäººç»Ÿè®¡é¡¹
 */
@Composable
private fun ProfileStatItem(
    label: String,
    count: String,
    modifier: Modifier = Modifier
) {
    Column(
        modifier = modifier,
        horizontalAlignment = Alignment.CenterHorizontally
    ) {
        Text(
            text = count,
            fontSize = 20.sp,
            fontWeight = FontWeight.Bold,
            color = Color.Black
        )
        Text(
            text = label,
            fontSize = 12.sp,
            color = Color.Gray
        )
    }
}
```

**çŸ¥è¯†ç‚¹**ï¼š
- `fillMaxSize()`ï¼šå¡«å……æ•´ä¸ªå¯ç”¨ç©ºé—´
- `clip(CircleShape)`ï¼šè£å‰ªæˆåœ†å½¢
- `Arrangement.SpaceEvenly`ï¼šå­å…ƒç´ å‡åŒ€åˆ†å¸ƒ
- `fontSize`ï¼šå­—ä½“å¤§å°ï¼ˆä½¿ç”¨spå•ä½ï¼Œä¼šéšç³»ç»Ÿå­—ä½“è®¾ç½®ç¼©æ”¾ï¼‰
- `fontWeight`ï¼šå­—ä½“ç²—ç»†

---

## ç¬¬å››éƒ¨åˆ†ï¼šå¯¼èˆªç³»ç»Ÿé…ç½®

### 4.1 ç†è§£Navigation Compose

**Navigation Compose** æ˜¯Jetpack Composeçš„å¯¼èˆªåº“ï¼š
- ç®¡ç†åº”ç”¨çš„å¯¼èˆªæµç¨‹
- å¤„ç†é¡µé¢è·³è½¬
- ä¼ é€’å‚æ•°
- ç®¡ç†è¿”å›æ ˆ

### 4.2 å®Œå–„NavGraph

**æ–‡ä»¶è·¯å¾„**: `presentation/navigation/NavGraph.kt`

```kotlin
//package com.bytedance.crossiantapp.presentation.navigation
//
//import androidx.compose.runtime.Composable
//import androidx.navigation.NavHostController
//import androidx.navigation.compose.NavHost
//import androidx.navigation.compose.composable
//import com.bytedance.crossiantapp.presentation.components.BottomNavItem
//import com.bytedance.crossiantapp.presentation.home.HomeScreen
//import com.bytedance.crossiantapp.presentation.profile.ProfileScreen

/**
 * å¯¼èˆªè·¯ç”±å¸¸é‡
 */
object Routes {
    const val HOME = "home"
    const val PROFILE = "profile"
    const val DETAIL = "detail/{postId}"  // è¯¦æƒ…é¡µï¼Œå¸¦å‚æ•°

    // ç”Ÿæˆè¯¦æƒ…é¡µè·¯ç”±çš„è¾…åŠ©å‡½æ•°
    fun detail(postId: String) = "detail/$postId"
}

/**
 * åº”ç”¨çš„å¯¼èˆªå›¾
 *
 * @param navController å¯¼èˆªæ§åˆ¶å™¨
 * @param startDestination èµ·å§‹ç›®çš„åœ°
 */
@Composable
fun NavGraph(
    navController: NavHostController,
    startDestination: String = Routes.HOME
) {
    NavHost(
        navController = navController,
        startDestination = startDestination
    ) {
        // é¦–é¡µ
        composable(route = Routes.HOME) {
            HomeScreen(
                onNavigateToDetail = { postId ->
                    // è·³è½¬åˆ°è¯¦æƒ…é¡µ
                    navController.navigate(Routes.detail(postId))
                }
            )
        }

        // ä¸ªäººä¸»é¡µ
        composable(route = Routes.PROFILE) {
            ProfileScreen()
        }

        // è¯¦æƒ…é¡µï¼ˆåç»­å®ç°ï¼‰
        composable(route = Routes.DETAIL) { backStackEntry ->
            // è·å–è·¯ç”±å‚æ•°
            val postId = backStackEntry.arguments?.getString("postId")

            // TODO: å®ç°è¯¦æƒ…é¡µ
            // DetailScreen(postId = postId ?: "")
        }
    }
}
```

**çŸ¥è¯†ç‚¹**ï¼š
- `object`ï¼šå•ä¾‹å¯¹è±¡ï¼Œç”¨äºå®šä¹‰å¸¸é‡
- `NavHost`ï¼šå¯¼èˆªå®¿ä¸»ï¼ŒåŒ…å«æ‰€æœ‰å¯¼èˆªç›®çš„åœ°
- `composable`ï¼šå®šä¹‰ä¸€ä¸ªå¯¼èˆªç›®çš„åœ°
- `route`ï¼šè·¯ç”±è·¯å¾„ï¼Œæ”¯æŒå‚æ•°ï¼ˆå¦‚ `detail/{postId}`ï¼‰
- `backStackEntry`ï¼šè¿”å›æ ˆæ¡ç›®ï¼Œå¯ä»¥è·å–è·¯ç”±å‚æ•°

### 4.3 æ›´æ–°MainActivity

**æ–‡ä»¶è·¯å¾„**: `MainActivity.kt`

```kotlin
//package com.bytedance.crossiantapp
//
//import android.os.Bundle
//import androidx.activity.ComponentActivity
//import androidx.activity.compose.setContent
//import androidx.compose.foundation.layout.fillMaxSize
//import androidx.compose.foundation.layout.padding
//import androidx.compose.material3.Scaffold
//import androidx.compose.runtime.*
//import androidx.compose.ui.Modifier
//import androidx.navigation.compose.rememberNavController
//import com.bytedance.crossiantapp.presentation.components.BottomNavItem
//import com.bytedance.crossiantapp.presentation.components.BottomNavigationBar
//import com.bytedance.crossiantapp.presentation.navigation.NavGraph
//import com.bytedance.crossiantapp.presentation.navigation.Routes
//import com.bytedance.crossiantapp.ui.theme.CrossiantAppTheme
//import dagger.hilt.android.AndroidEntryPoint

/**
 * åº”ç”¨ä¸»Activity
 * @AndroidEntryPoint æ ‡è®°è¿™æ˜¯Hiltçš„æ³¨å…¥ç‚¹
 */
@AndroidEntryPoint
class MainActivity : ComponentActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        setContent {
            CrossiantAppTheme {
                MainScreen()
            }
        }
    }
}

/**
 * ä¸»å±å¹•
 * åŒ…å«åº•éƒ¨å¯¼èˆªå’Œå†…å®¹åŒº
 */
@Composable
fun MainScreen() {
    // åˆ›å»ºå¯¼èˆªæ§åˆ¶å™¨
    val navController = rememberNavController()

    // è®°ä½å½“å‰é€‰ä¸­çš„åº•éƒ¨Tab
    var selectedBottomTab by remember { mutableStateOf(BottomNavItem.HOME) }

    Scaffold(
        modifier = Modifier.fillMaxSize(),
        bottomBar = {
            BottomNavigationBar(
                selectedItem = selectedBottomTab,
                onItemSelected = { item ->
                    // æ›´æ–°é€‰ä¸­çš„Tab
                    selectedBottomTab = item

                    // å¯¼èˆªåˆ°å¯¹åº”çš„é¡µé¢
                    when (item) {
                        BottomNavItem.HOME -> {
                            navController.navigate(Routes.HOME) {
                                // é¿å…è¿”å›æ ˆå †ç§¯
                                popUpTo(Routes.HOME) { inclusive = true }
                            }
                        }
                        BottomNavItem.PROFILE -> {
                            navController.navigate(Routes.PROFILE) {
                                popUpTo(Routes.HOME)
                            }
                        }
                        else -> {
                            // å…¶ä»–Tabæš‚ä¸å¤„ç†
                        }
                    }
                }
            )
        }
    ) { paddingValues ->
        // å¯¼èˆªå®¿ä¸»
        NavGraph(
            navController = navController,
            startDestination = Routes.HOME
        )
    }
}
```

**çŸ¥è¯†ç‚¹**ï¼š
- `@AndroidEntryPoint`ï¼šHiltæ³¨è§£ï¼Œæ ‡è®°éœ€è¦ä¾èµ–æ³¨å…¥çš„Androidç»„ä»¶
- `rememberNavController()`ï¼šåˆ›å»ºå¹¶è®°ä½å¯¼èˆªæ§åˆ¶å™¨
- `navigate()`ï¼šå¯¼èˆªåˆ°æŒ‡å®šè·¯ç”±
- `popUpTo`ï¼šå¯¼èˆªæ—¶å¼¹å‡ºè¿”å›æ ˆåˆ°æŒ‡å®šç›®çš„åœ°
- `inclusive`ï¼šæ˜¯å¦åŒ…å«ç›®çš„åœ°æœ¬èº«

---

## ç¬¬äº”éƒ¨åˆ†ï¼šå®Œå–„HomeScreen

### 5.1 æ·»åŠ Tabæ åˆ°HomeScreen

**æ–‡ä»¶è·¯å¾„**: `presentation/home/HomeScreen.kt`

```kotlin
//package com.bytedance.crossiantapp.presentation.home
//
//import androidx.compose.foundation.layout.*
//import androidx.compose.material3.*
//import androidx.compose.runtime.*
//import androidx.compose.ui.Modifier
//import androidx.compose.ui.graphics.Color
//import androidx.compose.ui.unit.dp
//import androidx.hilt.navigation.compose.hiltViewModel
//import com.bytedance.crossiantapp.presentation.home.components.HomeTabRow

/**
 * é¦–é¡µ
 *
 * @param onNavigateToDetail å¯¼èˆªåˆ°è¯¦æƒ…é¡µçš„å›è°ƒ
 * @param viewModel HomeViewModel
 */
@Composable
fun HomeScreen(
    onNavigateToDetail: (String) -> Unit = {},
    viewModel: HomeViewModel = hiltViewModel()
) {
    // å½“å‰é€‰ä¸­çš„Tab
    var selectedTab by remember { mutableStateOf(HomeTabItem.getDefault()) }

    Column(
        modifier = Modifier
            .fillMaxSize()
            .systemBarsPadding()  // é€‚é…ç³»ç»Ÿæ 
    ) {
        // é¡¶éƒ¨Tabæ 
        Surface(
            shadowElevation = 4.dp,
            color = Color.White
        ) {
            HomeTabRow(
                selectedTab = selectedTab,
                onTabSelected = { tab ->
                    selectedTab = tab
                },
                modifier = Modifier.fillMaxWidth()
            )
        }

        // å†…å®¹åŒºï¼ˆåŒåˆ—ç€‘å¸ƒæµï¼Œåç»­å®ç°ï¼‰
        Box(
            modifier = Modifier
                .fillMaxSize()
                .padding(16.dp)
        ) {
            Text(
                text = "åŒåˆ—ç€‘å¸ƒæµåˆ—è¡¨ï¼ˆå¾…å®ç°ï¼‰",
                style = MaterialTheme.typography.titleLarge,
                color = Color.Gray
            )
        }
    }
}
```

**çŸ¥è¯†ç‚¹**ï¼š
- `hiltViewModel()`ï¼šä½¿ç”¨Hiltæ³¨å…¥ViewModel
- `systemBarsPadding()`ï¼šé€‚é…ç³»ç»ŸçŠ¶æ€æ å’Œå¯¼èˆªæ 
- `Surface`ï¼šMaterial Designçš„è¡¨é¢å®¹å™¨ï¼Œå¯ä»¥æœ‰é˜´å½±
- `shadowElevation`ï¼šé˜´å½±é«˜åº¦
- `Box`ï¼šå åŠ å¸ƒå±€å®¹å™¨

---

## ğŸ¯ å®ç°æ­¥éª¤æ€»ç»“

### Step 1: åˆ›å»ºåº•éƒ¨å¯¼èˆªç›¸å…³æ–‡ä»¶
1. åˆ›å»º `presentation/components/BottomNavigationBar.kt`
2. å®šä¹‰ `BottomNavItem` æšä¸¾
3. å®ç° `BottomNavigationBar` ç»„ä»¶

### Step 2: åˆ›å»ºé¦–é¡µTabç›¸å…³æ–‡ä»¶
1. åˆ›å»º `presentation/home/HomeTabItem.kt`
2. åˆ›å»º `presentation/home/components/HomeTabRow.kt`
3. å®ç°Tabæ ç»„ä»¶

### Step 3: å®Œå–„ä¸ªäººä¸»é¡µ
1. ç¼–è¾‘ `presentation/profile/ProfileScreen.kt`
2. å®ç°ç®€æ´çš„ä¸ªäººä¸»é¡µUI

### Step 4: é…ç½®å¯¼èˆªç³»ç»Ÿ
1. ç¼–è¾‘ `presentation/navigation/NavGraph.kt`
2. å®šä¹‰è·¯ç”±å¸¸é‡
3. é…ç½®æ‰€æœ‰å¯¼èˆªç›®çš„åœ°

### Step 5: æ›´æ–°MainActivity
1. ç¼–è¾‘ `MainActivity.kt`
2. é›†æˆåº•éƒ¨å¯¼èˆªå’ŒNavGraph
3. å®ç°Tabåˆ‡æ¢é€»è¾‘

### Step 6: å®Œå–„HomeScreen
1. ç¼–è¾‘ `presentation/home/HomeScreen.kt`
2. æ·»åŠ é¡¶éƒ¨Tabæ 
3. é¢„ç•™å†…å®¹åŒºåŸŸ

---

## ğŸ§ª æµ‹è¯•æ£€æŸ¥æ¸…å•

å®Œæˆå®ç°åï¼Œè¯·æ£€æŸ¥ä»¥ä¸‹åŠŸèƒ½ï¼š

- [ ] åº”ç”¨å¯åŠ¨åï¼Œé»˜è®¤åœ¨"é¦–é¡µ"Tab
- [ ] åº•éƒ¨å¯¼èˆªæ æ˜¾ç¤º5ä¸ªTab
- [ ] ç‚¹å‡»"é¦–é¡µ"å’Œ"æˆ‘"å¯ä»¥åˆ‡æ¢é¡µé¢
- [ ] ç‚¹å‡»"æœ‹å‹"ã€"ç›¸æœº"ã€"æ¶ˆæ¯"æ— å“åº”ï¼ˆæ­£ç¡®ï¼‰
- [ ] é¦–é¡µé¡¶éƒ¨æ˜¾ç¤º6ä¸ªTabå’Œæœç´¢å›¾æ ‡
- [ ] é»˜è®¤é€‰ä¸­"ç¤¾åŒº"Tab
- [ ] "ç¤¾åŒº"Tabæœ‰ä¸‹åˆ’çº¿æŒ‡ç¤º
- [ ] ç‚¹å‡»å…¶ä»–Tabæ— å“åº”ï¼ˆæ­£ç¡®ï¼‰
- [ ] ä¸ªäººä¸»é¡µæ˜¾ç¤ºå¤´åƒã€æ˜µç§°ã€ç®€ä»‹å’Œç»Ÿè®¡ä¿¡æ¯
- [ ] ä»ä¸ªäººä¸»é¡µå¯ä»¥è¿”å›é¦–é¡µ

---

## ğŸ¨ ç•Œé¢é¢„è§ˆ

å®ç°åçš„æ•ˆæœï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åŒ—äº¬ å›¢è´­ å…³æ³¨ ç¤¾åŒº æ¨è ğŸ”â”‚ â† é¦–é¡µTabæ 
â”‚            â”â”â”          â”‚ â† ä¸‹åˆ’çº¿æŒ‡ç¤ºå™¨
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                         â”‚
â”‚   åŒåˆ—ç€‘å¸ƒæµåˆ—è¡¨åŒºåŸŸ       â”‚
â”‚     (å¾…ä¸‹ä¸€æ­¥å®ç°)        â”‚
â”‚                         â”‚
â”‚                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ é¦–é¡µ æœ‹å‹  +  æ¶ˆæ¯  æˆ‘   â”‚ â† åº•éƒ¨å¯¼èˆªæ 
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’¡ å¸¸è§é—®é¢˜

### Q1: ä¸ºä»€ä¹ˆä½¿ç”¨ `remember` å’Œ `mutableStateOf`ï¼Ÿ
**A**: Composeæ˜¯å£°æ˜å¼UIæ¡†æ¶ï¼Œéœ€è¦é€šè¿‡çŠ¶æ€æ¥é©±åŠ¨UIæ›´æ–°ã€‚
- `mutableStateOf` åˆ›å»ºå¯è§‚å¯Ÿçš„çŠ¶æ€
- `remember` åœ¨é‡ç»„æ—¶ä¿æŒçŠ¶æ€ä¸ä¸¢å¤±
- çŠ¶æ€æ”¹å˜æ—¶ï¼ŒUIä¼šè‡ªåŠ¨é‡ç»„åˆ·æ–°

### Q2: `by` å…³é”®å­—æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ
**A**: è¿™æ˜¯Kotlinçš„å±æ€§å§”æ‰˜è¯­æ³•ç³–ã€‚
```kotlin
// å®Œæ•´å†™æ³•
val state = remember { mutableStateOf(0) }
val value = state.value

// å§”æ‰˜å†™æ³•ï¼ˆæ¨èï¼‰
var value by remember { mutableStateOf(0) }
```

### Q3: Modifieræ˜¯ä»€ä¹ˆï¼Ÿ
**A**: Modifieræ˜¯Composeä¸­ä¿®æ”¹UIçš„æœºåˆ¶ï¼Œå¯ä»¥ï¼š
- è®¾ç½®å¤§å°ã€paddingã€margin
- æ·»åŠ èƒŒæ™¯ã€è¾¹æ¡†
- å¤„ç†ç‚¹å‡»äº‹ä»¶
- åº”ç”¨åŠ¨ç”»
- ç­‰ç­‰...

Modifierå¯ä»¥é“¾å¼è°ƒç”¨ï¼š
```kotlin
Modifier
    .fillMaxWidth()
    .padding(16.dp)
    .background(Color.White)
    .clickable { }
```

### Q4: @Composableå‡½æ•°æœ‰ä»€ä¹ˆç‰¹æ®Šï¼Ÿ
**A**: @Composableå‡½æ•°ï¼š
- å¯ä»¥è°ƒç”¨å…¶ä»–@Composableå‡½æ•°
- ä¼šè‡ªåŠ¨è¿½è¸ªçŠ¶æ€å˜åŒ–
- çŠ¶æ€å˜åŒ–æ—¶ä¼šé‡ç»„ï¼ˆé‡æ–°æ‰§è¡Œï¼‰
- ä¸èƒ½åœ¨é@Composableå‡½æ•°ä¸­è°ƒç”¨

### Q5: å¦‚ä½•è°ƒè¯•Compose UIï¼Ÿ
**A**:
1. ä½¿ç”¨Android Studioçš„Layout Inspector
2. åœ¨ä»£ç ä¸­æ·»åŠ  `println()` æˆ– `Log.d()`
3. ä½¿ç”¨ `@Preview` æ³¨è§£é¢„è§ˆå•ä¸ªç»„ä»¶
4. ä½¿ç”¨Composeçš„è°ƒè¯•å·¥å…·

---

## ğŸ“š è¿›é˜¶å­¦ä¹ èµ„æº

1. **Jetpack Composeå®˜æ–¹æ–‡æ¡£**
   - https://developer.android.com/jetpack/compose

2. **Composeå…¥é—¨æ•™ç¨‹**
   - https://developer.android.com/courses/pathways/compose

3. **Material Design 3**
   - https://m3.material.io/

4. **Navigation Compose**
   - https://developer.android.com/jetpack/compose/navigation

5. **çŠ¶æ€ç®¡ç†æœ€ä½³å®è·µ**
   - https://developer.android.com/jetpack/compose/state

---

## ğŸ“ å…³é”®æ¦‚å¿µæ€»ç»“

### Composeæ ¸å¿ƒæ¦‚å¿µ
1. **å£°æ˜å¼UI**: æè¿°UIåº”è¯¥æ˜¯ä»€ä¹ˆæ ·å­ï¼Œè€Œä¸æ˜¯å¦‚ä½•æ”¹å˜UI
2. **é‡ç»„**: å½“çŠ¶æ€å˜åŒ–æ—¶ï¼ŒComposeä¼šé‡æ–°æ‰§è¡Œç›¸å…³å‡½æ•°
3. **çŠ¶æ€æå‡**: å°†çŠ¶æ€æå‡åˆ°å…±åŒçš„çˆ¶ç»„ä»¶
4. **å•å‘æ•°æ®æµ**: æ•°æ®å‘ä¸‹æµåŠ¨ï¼Œäº‹ä»¶å‘ä¸Šä¼ é€’

### Material Designç»„ä»¶
- `Scaffold`: åŸºç¡€å¸ƒå±€è„šæ‰‹æ¶
- `NavigationBar`: åº•éƒ¨å¯¼èˆªæ 
- `TabRow`: Tabæ 
- `Surface`: è¡¨é¢å®¹å™¨
- `Text`: æ–‡æœ¬
- `Icon`: å›¾æ ‡
- `Button`: æŒ‰é’®

### å¸ƒå±€å®¹å™¨
- `Column`: çºµå‘å¸ƒå±€
- `Row`: æ¨ªå‘å¸ƒå±€
- `Box`: å åŠ å¸ƒå±€
- `LazyColumn`: æ‡’åŠ è½½çºµå‘åˆ—è¡¨
- `LazyRow`: æ‡’åŠ è½½æ¨ªå‘åˆ—è¡¨

---

## âœ… ä¸‹ä¸€æ­¥

å®Œæˆåº”ç”¨æ¡†æ¶åï¼Œä½ å°†å­¦ä¹ ï¼š
1. å®ç°åŒåˆ—ç€‘å¸ƒæµåˆ—è¡¨ (LazyVerticalStaggeredGrid)
2. ç½‘ç»œè¯·æ±‚å’Œæ•°æ®åŠ è½½
3. å›¾ç‰‡åŠ è½½å’Œç¼“å­˜
4. ä¸‹æ‹‰åˆ·æ–°å’Œä¸Šæ»‘åŠ è½½æ›´å¤š

ç»§ç»­åŠ æ²¹ï¼ğŸš€
# CrossiantApp - æŠ€æœ¯å®ç°æŒ‡å—

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªåŸºäºå­—èŠ‚è·³åŠ¨è®­ç»ƒè¥è¯¾é¢˜çš„**å›¾æ–‡å®¢æˆ·ç«¯APP**ï¼Œæ¨¡ä»¿å¯é¢‚APPçš„æ ¸å¿ƒåŠŸèƒ½ï¼Œæä¾›UGCå†…å®¹ç¤¾åŒºä½“éªŒã€‚

### ä¸šåŠ¡èƒŒæ™¯
- **äº§å“å®šä½**ï¼šUGCå†…å®¹ç¤¾åŒºï¼Œæ»¡è¶³ç”¨æˆ·ç»éªŒå†³ç­–ã€åœˆå±‚äº¤æµéœ€æ±‚
- **äº§å“å½¢æ€**ï¼šåŒåˆ—å›¾æ–‡è§†é¢‘æ··æ’ï¼Œä»¥å›¾æ–‡ä½“è£ä¸ºä¸»
- **æ ¸å¿ƒä¼˜åŠ¿**ï¼š
  - åŒåˆ—å¸ƒå±€ï¼šå±æ•ˆæ¯”é«˜ï¼Œä¸€å±å±•ç¤ºå¤šä¸ªä½œå“ï¼Œä¾¿äºå†…å®¹ç­›é€‰
  - å›¾æ–‡ä½“è£ï¼šä¿¡æ¯å¯†åº¦é«˜ã€å¯æ§æ„Ÿå¼ºã€åˆ›ä½œé—¨æ§›ä½

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æ¶æ„æ¨¡å¼
é‡‡ç”¨ **Clean Architecture + MVVM** æ¶æ„æ¨¡å¼ï¼š

```
app/src/main/java/com/bytedance/crossiantapp/
â”œâ”€â”€ data/              # æ•°æ®å±‚
â”‚   â”œâ”€â”€ local/        # æœ¬åœ°å­˜å‚¨ (MMKV)
â”‚   â”œâ”€â”€ remote/       # ç½‘ç»œè¯·æ±‚ (Retrofit)
â”‚   â”œâ”€â”€ model/        # æ•°æ®æ¨¡å‹ (DTO)
â”‚   â””â”€â”€ repository/   # Repositoryå®ç°
â”œâ”€â”€ domain/           # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”œâ”€â”€ model/        # é¢†åŸŸæ¨¡å‹ (Entity)
â”‚   â”œâ”€â”€ repository/   # Repositoryæ¥å£
â”‚   â””â”€â”€ usecase/      # ç”¨ä¾‹
â”œâ”€â”€ presentation/     # è¡¨ç°å±‚
â”‚   â”œâ”€â”€ home/         # é¦–é¡µï¼ˆåŒåˆ—ç€‘å¸ƒæµï¼‰
â”‚   â”œâ”€â”€ detail/       # è¯¦æƒ…é¡µ
â”‚   â”œâ”€â”€ profile/      # ä¸ªäººä¸»é¡µ
â”‚   â”œâ”€â”€ navigation/   # å¯¼èˆª
â”‚   â””â”€â”€ components/   # é€šç”¨ç»„ä»¶
â”œâ”€â”€ di/               # ä¾èµ–æ³¨å…¥ (Hilt)
â””â”€â”€ util/             # å·¥å…·ç±»
```

### æŠ€æœ¯æ ˆ

| ç±»åˆ« | æŠ€æœ¯é€‰å‹ | ç”¨é€” |
|------|---------|------|
| **UIæ¡†æ¶** | Jetpack Compose | å£°æ˜å¼UIå¼€å‘ |
| **æ¶æ„ç»„ä»¶** | ViewModel, LiveData/StateFlow | MVVMæ¶æ„ |
| **ä¾èµ–æ³¨å…¥** | Hilt | ä¾èµ–ç®¡ç† |
| **ç½‘ç»œè¯·æ±‚** | Retrofit + OkHttp | RESTful API |
| **JSONè§£æ** | Gson | æ•°æ®åºåˆ—åŒ– |
| **å›¾ç‰‡åŠ è½½** | Fresco | å›¾ç‰‡ç¼“å­˜å’Œæ˜¾ç¤º |
| **æœ¬åœ°å­˜å‚¨** | MMKV | è½»é‡çº§KVå­˜å‚¨ |
| **è§†é¢‘æ’­æ”¾** | ExoPlayer | è§†é¢‘ç‰‡æ®µæ’­æ”¾ |
| **éŸ³é¢‘æ’­æ”¾** | MediaPlayer | èƒŒæ™¯éŸ³ä¹ |
| **åˆ†é¡µåŠ è½½** | Paging 3 | åˆ—è¡¨åˆ†é¡µ |
| **è·¯ç”±** | ARouter | é¡µé¢å¯¼èˆª |
| **åç¨‹** | Kotlin Coroutines | å¼‚æ­¥å¤„ç† |

---

## ğŸ¯ åŠŸèƒ½æ¨¡å—è¯¦è§£

### 1. åº”ç”¨æ¡†æ¶

#### 1.1 åº•éƒ¨å¯¼èˆªæ 
- **Tabåˆ—è¡¨**ï¼ˆä»å·¦åˆ°å³ï¼‰ï¼šé¦–é¡µã€æœ‹å‹ã€ç›¸æœº(+)ã€æ¶ˆæ¯ã€æˆ‘
- **å®ç°è¦æ±‚**ï¼š
  - åªéœ€æ”¯æŒ"é¦–é¡µ"å’Œ"æˆ‘"çš„ç‚¹å‡»
  - å…¶ä»–Tabå¯ä»¥æ˜¯å ä½ç¬¦
  - å¯åŠ¨åé»˜è®¤åœ¨"é¦–é¡µ"
  - ä½¿ç”¨ `NavigationBar` + `NavigationBarItem`

**å‚è€ƒä»£ç ç»“æ„**ï¼š
```kotlin
// presentation/components/BottomNavigationBar.kt
@Composable
fun BottomNavigationBar(
    selectedTab: BottomNavItem,
    onTabSelected: (BottomNavItem) -> Unit
)

enum class BottomNavItem {
    HOME,      // é¦–é¡µ âœ“
    FRIENDS,   // æœ‹å‹ (å ä½)
    CAMERA,    // ç›¸æœº (å ä½)
    MESSAGE,   // æ¶ˆæ¯ (å ä½)
    PROFILE    // æˆ‘ âœ“
}
```

#### 1.2 é¦–é¡µTab
- **Tabåˆ—è¡¨**ï¼ˆä»å·¦åˆ°å³ï¼‰ï¼šåŒ—äº¬ã€å›¢è´­ã€å…³æ³¨ã€ç¤¾åŒºã€æ¨èã€æœç´¢Icon
- **å®ç°è¦æ±‚**ï¼š
  - é»˜è®¤ä½äº"ç¤¾åŒº"
  - å…¶ä»–Tabæ— éœ€æ”¯æŒç‚¹å‡»
  - ä½¿ç”¨ `TabRow` + `Tab`

---

### 2. åŒåˆ—ç€‘å¸ƒæµï¼ˆé¦–é¡µï¼‰

#### 2.1 å¸ƒå±€å®ç°

**æ ¸å¿ƒç»„ä»¶**ï¼š`LazyVerticalStaggeredGrid`

```kotlin
LazyVerticalStaggeredGrid(
    columns = StaggeredGridCells.Fixed(2),
    horizontalArrangement = Arrangement.spacedBy(8.dp),
    verticalItemSpacing = 8.dp
) {
    items(posts) { post ->
        PostCard(post)
    }
}
```

#### 2.2 ä½œå“å¡ç‰‡ï¼ˆPostCardï¼‰

**å¿…éœ€å…ƒç´ **ï¼š
1. **ä½œå“å°é¢**
   - è£åˆ‡è§„åˆ™ï¼šå®½é«˜æ¯”é™åˆ¶åœ¨ 3:4 ~ 4:3
   - ä½¿ç”¨Frescoçš„SimpleDraweeViewæˆ–Coil

2. **ä½œå“æ ‡é¢˜**
   - ä¼˜å…ˆå±•ç¤ºæ ‡é¢˜ï¼Œæ— æ ‡é¢˜æ—¶å±•ç¤ºæ­£æ–‡
   - æœ€é•¿2è¡Œï¼Œè¶…å‡ºç”¨"..."æˆªæ–­
   - ä½¿ç”¨ `maxLines = 2`, `overflow = TextOverflow.Ellipsis`

3. **åº•æ **
   - ä½œè€…å¤´åƒ + æ˜µç§°
   - ç‚¹èµIcon + æ•°é‡
   - ç‚¹èµæ”¯æŒçŠ¶æ€åˆ‡æ¢ï¼Œä½¿ç”¨MMKVæŒä¹…åŒ–å­˜å‚¨

**å¡ç‰‡äº¤äº’**ï¼š
- ç‚¹å‡»å¡ç‰‡ â†’ è·³è½¬è¯¦æƒ…é¡µ
- ç‚¹å‡»ç‚¹èµ â†’ åˆ‡æ¢ç‚¹èµçŠ¶æ€ï¼ˆæœ¬åœ°å­˜å‚¨ï¼‰

#### 2.3 åˆ—è¡¨åŠŸèƒ½

**ä¸‹æ‹‰åˆ·æ–°**ï¼š
```kotlin
val pullRefreshState = rememberPullRefreshState(
    refreshing = isRefreshing,
    onRefresh = { viewModel.refresh() }
)
```

**ä¸Šæ»‘åŠ è½½æ›´å¤š**ï¼š
- ä½¿ç”¨Paging 3å®ç°
- ç›‘å¬æ»šåŠ¨åˆ°åº•éƒ¨ï¼Œè‡ªåŠ¨åŠ è½½

**LoadingçŠ¶æ€**ï¼š
- é¦–åˆ·Loadingï¼šå…¨å±LoadingæŒ‡ç¤ºå™¨
- åŠ è½½æ›´å¤šLoadingï¼šåº•éƒ¨å°å‹åŠ è½½å™¨
- åˆ·æ–°Loadingï¼šä¸‹æ‹‰åˆ·æ–°æŒ‡ç¤ºå™¨

**ç©ºæ€é¡µé¢**ï¼š
- é¦–åˆ·è¯·æ±‚å¤±è´¥æ—¶æ˜¾ç¤º
- æä¾›é‡è¯•æŒ‰é’®

---

### 3. è¯¦æƒ…é¡µ

#### 3.1 é¡µé¢ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é¡¶éƒ¨ä½œè€…åŒºï¼ˆå¸¸é©»ï¼‰        â”‚ â† Sticky Header
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                         â”‚
â”‚   æ¨ªæ»‘å®¹å™¨ï¼ˆå›¾ç‰‡/è§†é¢‘ï¼‰   â”‚ â† HorizontalPager
â”‚                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è¿›åº¦æ¡                   â”‚
â”‚ æ ‡é¢˜åŒº                   â”‚
â”‚ æ­£æ–‡åŒº                   â”‚
â”‚ å‘å¸ƒæ—¥æœŸ                 â”‚
â”‚                         â”‚
â”‚                         â”‚
â”‚ ... (å¯æ»šåŠ¨å†…å®¹)         â”‚
â”‚                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ åº•éƒ¨äº¤äº’åŒºï¼ˆå¸¸é©»ï¼‰        â”‚ â† Sticky Footer
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3.2 é¡¶éƒ¨ä½œè€…åŒºï¼ˆå¸¸é©»ï¼‰

**å…ƒç´ **ï¼š
- è¿”å›æŒ‰é’®ï¼ˆ<ï¼‰
- ä½œè€…å¤´åƒ + æ˜µç§°
- å…³æ³¨æŒ‰é’®

**å…³æ³¨æŒ‰é’®**ï¼š
- æ”¯æŒç‚¹å‡»åˆ‡æ¢çŠ¶æ€
- ä½¿ç”¨MMKVæŒä¹…åŒ–å­˜å‚¨

#### 3.3 æ¨ªæ»‘å®¹å™¨ï¼ˆHorizontalPagerï¼‰

**å¸ƒå±€è§„åˆ™**ï¼š
- ä½¿ç”¨é¦–å›¾å®½é«˜æ¯”ä½œä¸ºå®¹å™¨æ¯”ä¾‹
- å®½é«˜æ¯”é™åˆ¶ï¼š3:4 ~ 16:9
- éé¦–å›¾æŒ‰é¦–å›¾æ¯”ä¾‹è£åˆ‡ï¼Œç¡®ä¿å›¾ç‰‡å†…å®¹å……æ»¡å®¹å™¨

**åŠŸèƒ½è¦æ±‚**ï¼š
- æ”¯æŒæ‰‹åŠ¨æ¨ªæ»‘åˆ‡æ¢
- æ”¯æŒå›¾ç‰‡çº§åˆ«çš„åŠ è½½æ€ã€å¤±è´¥æ€
- ä½¿ç”¨ `HorizontalPager` + `PagerState`

**å›¾ç‰‡åŠ è½½**ï¼š
```kotlin
@Composable
fun ImageSlide(clip: Clip) {
    Image(
        painter = rememberAsyncImagePainter(clip.url),
        contentDescription = null,
        contentScale = ContentScale.Crop,
        modifier = Modifier
            .fillMaxWidth()
            .aspectRatio(calculateAspectRatio(clip))
    )
}
```

#### 3.4 è¿›åº¦æ¡

**å±•ç¤ºè§„åˆ™**ï¼š
- å•å›¾ä¸å±•ç¤º
- å¤šå›¾å±•ç¤ºæ¡çŠ¶è¿›åº¦æ¡
- è·Ÿéšå›¾ç‰‡åˆ‡æ¢æ¨ªå‘æ»šåŠ¨
- æ— éœ€æ”¯æŒæ‹–åŠ¨å¿«é€Ÿé¢„è§ˆ

#### 3.5 æ ‡é¢˜åŒºå’Œæ­£æ–‡åŒº

**æ ‡é¢˜**ï¼šå®Œæ•´å±•ç¤ºä¸æˆªæ–­

**æ­£æ–‡**ï¼š
- å®Œæ•´å±•ç¤ºä¸æˆªæ–­
- è¯é¢˜è¯é«˜äº®æ˜¾ç¤ºï¼ˆå¦‚ #å¿«æ¥å‚ä¸ï¼‰
- è¯é¢˜è¯æ”¯æŒç‚¹å‡»ï¼ˆè·³è½¬åˆ°ç®€æ´çš„è¯é¢˜é¡µï¼‰

**è¯é¢˜è¯è§£æ**ï¼š
```kotlin
// æ ¹æ®APIè¿”å›çš„hashtagæ•°ç»„è§£æ
data class Hashtag(
    val start: Int,  // èµ·å§‹ä¸‹æ ‡ï¼ˆé—­åŒºé—´ï¼‰
    val end: Int     // ç»ˆæ­¢ä¸‹æ ‡ï¼ˆå¼€åŒºé—´ï¼‰
)
```

#### 3.6 å‘å¸ƒæ—¥æœŸ

**æ—¥æœŸæ–‡æ¡ˆè§„åˆ™**ï¼š
- 24hå†…ï¼šæ˜¾ç¤ºå…·ä½“æ—¶é—´ï¼Œå¦‚"HH:mm"ã€"æ˜¨å¤© HH:mm"
- 7å¤©å†…ï¼šæ˜¾ç¤ºä¸º"xå¤©å‰"
- å…¶ä½™ï¼šæ˜¾ç¤ºä¸º"MM-dd"

**å®ç°ç¤ºä¾‹**ï¼š
```kotlin
fun formatPublishTime(timestamp: Long): String {
    val now = System.currentTimeMillis()
    val diff = now - timestamp * 1000

    return when {
        diff < 24 * 60 * 60 * 1000 -> {
            // 24å°æ—¶å†…
            SimpleDateFormat("HH:mm", Locale.getDefault()).format(Date(timestamp * 1000))
        }
        diff < 2 * 24 * 60 * 60 * 1000 -> {
            // æ˜¨å¤©
            "æ˜¨å¤© " + SimpleDateFormat("HH:mm", Locale.getDefault()).format(Date(timestamp * 1000))
        }
        diff < 7 * 24 * 60 * 60 * 1000 -> {
            // 7å¤©å†…
            "${diff / (24 * 60 * 60 * 1000)}å¤©å‰"
        }
        else -> {
            // å…¶ä»–
            SimpleDateFormat("MM-dd", Locale.getDefault()).format(Date(timestamp * 1000))
        }
    }
}
```

#### 3.7 åº•éƒ¨äº¤äº’åŒºï¼ˆå¸¸é©»ï¼‰

**å…ƒç´ **ï¼š
- å¿«æ·è¯„è®ºæ¡†
- ç‚¹èµæŒ‰é’® âœ“
- è¯„è®ºæŒ‰é’®
- æ”¶è—æŒ‰é’®
- åˆ†äº«æŒ‰é’® âœ“

**å®ç°è¦æ±‚**ï¼š
- ç‚¹èµå’Œåˆ†äº«éœ€è¦æ”¯æŒäº¤äº’
- å…¶ä½™å¯ä»¥ä¸æ”¯æŒ

---

### 4. è¿›é˜¶åŠŸèƒ½

#### 4.1 é¡µé¢è½¬åœºåŠ¨ç”»

**è¿›åœºåŠ¨ç”»ï¼ˆæ‰“å¼€è¯¦æƒ…é¡µï¼‰**ï¼š
- ç‚¹å‡»çš„å¡ç‰‡å°é¢é€æ¸æ”¾å¤§è‡³è¯¦æƒ…é¡µæ¨ªæ»‘å®¹å™¨åŒºåŸŸ
- è¯¦æƒ…é¡µæ¨ªæ»‘å®¹å™¨å¤–åŒºåŸŸæ¸æ˜¾

**é€€åœºåŠ¨ç”»ï¼ˆè¿”å›åŒåˆ—ï¼‰**ï¼š
- è¯¦æƒ…é¡µæ¨ªæ»‘å®¹å™¨å›¾ç‰‡é€æ¸ç¼©å°è‡³åŒåˆ—å¡ç‰‡å°é¢åŒºåŸŸ
- è¯¦æƒ…é¡µæ¨ªæ»‘å®¹å™¨å¤–åŒºåŸŸæ¸éš

**ä¾§æ»‘é€€åœº**ï¼š
- æ‰‹æŒ‡æ‹–åŠ¨ï¼šè¯¦æƒ…é¡µè·Ÿéšç§»åŠ¨å¹¶ç¼©å°ï¼ŒåŒåˆ—é¡µé¢ç”±æš—è½¬æ˜
- æ¾æ‰‹åï¼šå®Œæˆç¼©å°åŠ¨ç”»

**å®ç°æ–¹æ¡ˆ**ï¼š
- ä½¿ç”¨ `SharedElement` Transition
- æˆ–ä½¿ç”¨ `AnimatedContent` + è‡ªå®šä¹‰åŠ¨ç”»

#### 4.2 èƒŒæ™¯éŸ³ä¹

**é™éŸ³æŒ‰é’®**ï¼š
- ä½ç½®ï¼šæ¨ªæ»‘å®¹å™¨å³ä¸‹è§’
- åŠŸèƒ½ï¼šæ§åˆ¶éŸ³ä¹æ’­æ”¾å™¨æ˜¯å¦é™éŸ³

**æ’­æ§é€»è¾‘**ï¼š
- æ‰“å¼€è¯¦æƒ…é¡µæ—¶ï¼Œé™éŸ³æ€ç”±è®°å¿†å†³å®šï¼ˆåˆå§‹ä¸ºéé™éŸ³ï¼‰
- å…³é—­é¡µé¢ã€æ‰“å¼€å…¶ä»–é¡µé¢ã€é€€åå°æ—¶æš‚åœæ’­æ”¾
- è¿”å›è¯¦æƒ…é¡µã€å›å‰å°æ—¶æ¢å¤æ’­æ”¾

**çŠ¶æ€è®°å¿†**ï¼š
- APPç”Ÿå‘½å‘¨æœŸå†…ç”Ÿæ•ˆ
- æ‰“å¼€ä¸åŒä½œå“è¯¦æƒ…é¡µç»§æ‰¿ä¸Šæ¬¡çŠ¶æ€
- APPå†·å¯åŠ¨åé‡ç½®

**æŠ€æœ¯å®ç°**ï¼š
```kotlin
// ä½¿ç”¨MediaPlayeræˆ–ExoPlayer
class MusicPlayer {
    private val mediaPlayer = MediaPlayer()
    var isMuted: Boolean by mutableStateOf(false)

    fun play(url: String) {
        mediaPlayer.apply {
            reset()
            setDataSource(url)
            prepare()
            start()
        }
    }

    fun setMute(mute: Boolean) {
        isMuted = mute
        mediaPlayer.setVolume(if (mute) 0f else 1f, if (mute) 0f else 1f)
    }
}
```

#### 4.3 è‡ªåŠ¨è½®æ’­

**åŠŸèƒ½**ï¼š
- å¤ç”¨é™éŸ³æŒ‰é’®æ§åˆ¶è½®æ’­çŠ¶æ€
- å›¾ç‰‡å±•ç¤ºNç§’åè‡ªåŠ¨åˆ‡æ¢è‡³ä¸‹ä¸€å¼ 
- åˆ‡æ¢è‡³æœ€åä¸€å¼ åï¼Œå†æ¬¡åˆ‡æ¢å›ç¬¬ä¸€å¼ ï¼Œå¾ªç¯æ’­æ”¾
- è‡ªåŠ¨è½®æ’­æ—¶æ”¯æŒæ‰‹åŠ¨æ‰“æ–­

**å®ç°**ï¼š
```kotlin
LaunchedEffect(pagerState.currentPage, isAutoPlay) {
    if (isAutoPlay) {
        delay(3000) // 3ç§’è‡ªåŠ¨åˆ‡æ¢
        val nextPage = (pagerState.currentPage + 1) % pageCount
        pagerState.animateScrollToPage(nextPage)
    }
}
```

#### 4.4 è§†é¢‘ç‰‡æ®µæ’­æ”¾

**åŠŸèƒ½**ï¼š
- æ¨ªæ»‘å®¹å™¨æ”¯æŒåœ¨ä»»æ„ä½ç½®æ’å…¥è§†é¢‘ç‰‡æ®µ
- æ ¹æ®æœåŠ¡ç«¯ä¸‹å‘çš„ç‰‡æ®µæ•°æ®å±•ç¤º
- æ”¯æŒåˆ†ç‰‡æ®µè§†é¢‘æ’­æ”¾
- æ’­æ§åœºæ™¯ä¸‹ï¼Œè§†é¢‘ç‰‡æ®µå®Œæ’­åè‡ªåŠ¨åˆ‡æ¢è‡³ä¸‹ä¸€ç‰‡æ®µ

**å®ç°**ï¼š
```kotlin
when (clip.type) {
    0 -> ImageSlide(clip)  // å›¾ç‰‡
    1 -> VideoSlide(clip)  // è§†é¢‘
}
```

---

## ğŸ”Œ APIæ¥å£æ–‡æ¡£

### åŸºç¡€ä¿¡æ¯

- **æ¥å£åœ°å€**ï¼š`https://college-training-camp.bytedance.com/feed/`
- **è¯·æ±‚æ–¹æ³•**ï¼šGET
- **è¯·æ±‚å‚æ•°**ï¼š

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| count | Int | æ˜¯ | è¯·æ±‚ä½œå“æ•°é‡ |
| accept_video_clip | Bool | å¦ | æ˜¯å¦æ”¯æŒä¸‹å‘è§†é¢‘ç‰‡æ®µï¼ˆè¿›é˜¶åŠŸèƒ½éœ€ä¼ trueï¼‰ |

### å“åº”æ ¼å¼

[//]: # ()
[//]: # (```json)

[//]: # ({)

[//]: # (  "status_code": 0,           // çŠ¶æ€ç ï¼ˆ0ï¼šæˆåŠŸï¼Œå…¶å®ƒï¼šå¤±è´¥ï¼‰)

[//]: # (  "has_more": 1,              // æ˜¯å¦è¿˜æœ‰æ›´å¤šä½œå“ï¼ˆ0æˆ–1ï¼‰)

[//]: # (  "post_list": [{             // ä½œå“åˆ—è¡¨)

[//]: # (    "post_id": "100080",      // ä½œå“ID)

[//]: # (    "title": "å›¾æ–‡æ—¶ä»£",       // ä½œå“æ ‡é¢˜)

[//]: # (    "content": "å®¢æˆ·ç«¯è®­ç»ƒè¥ #å¿«æ¥å‚ä¸",  // ä½œå“æ­£æ–‡)

[//]: # (    "hashtag": [{             // è¯é¢˜è¯ä½ç½®ä¿¡æ¯)

[//]: # (      "start": 7,             // èµ·å§‹ä¸‹æ ‡ï¼ˆé—­åŒºé—´ï¼‰)

[//]: # (      "end": 12               // ç»ˆæ­¢ä¸‹æ ‡ï¼ˆå¼€åŒºé—´ï¼‰)

[//]: # (    }],)

[//]: # (    "create_time": 1756289925,  // ä½œå“åˆ›å»ºæ—¶é—´æˆ³)

[//]: # (    "author": {               // ä½œè€…ä¿¡æ¯)

[//]: # (      "user_id": "12306",     // ç”¨æˆ·ID)

[//]: # (      "nickname": "è¥ä¸šä¸­",    // ç”¨æˆ·æ˜µç§°)

[//]: # (      "avatar": "https://..."  // å¤´åƒé“¾æ¥)

[//]: # (    },)

[//]: # (    "clips": [{               // å›¾ç‰‡/è§†é¢‘ç‰‡æ®µæ•°æ®)

[//]: # (      "type": 0,              // ç‰‡æ®µç±»å‹ï¼ˆ0ï¼šå›¾ç‰‡ï¼Œ1ï¼šè§†é¢‘ï¼‰)

[//]: # (      "width": 1440,          // å®½åº¦)

[//]: # (      "height": 2438,         // é«˜åº¦)

[//]: # (      "url": "https://..."    // èµ„æºé“¾æ¥)

[//]: # (    }],)

[//]: # (    "music": {                // éŸ³ä¹ä¿¡æ¯)

[//]: # (      "volume": 100,          // éŸ³é‡)

[//]: # (      "seek_time": 0,         // èµ·å§‹æ’­æ”¾ä½ç½®ï¼ˆmsï¼‰)

[//]: # (      "url": "https://..."    // éŸ³ä¹é“¾æ¥)

[//]: # (    })

[//]: # (  }])

[//]: # (})
```

### æ•°æ®æ¨¡å‹è®¾è®¡

**Domainå±‚æ¨¡å‹**ï¼š
```kotlin
// domain/model/Post.kt
data class Post(
    val postId: String,
    val title: String,
    val content: String,
    val hashtags: List<Hashtag>,
    val createTime: Long,
    val author: Author,
    val clips: List<Clip>,
    val music: Music?
)

data class Author(
    val userId: String,
    val nickname: String,
    val avatar: String
)

data class Clip(
    val type: ClipType,  // IMAGE, VIDEO
    val width: Int,
    val height: Int,
    val url: String
)

data class Music(
    val volume: Int,
    val seekTime: Long,
    val url: String
)

data class Hashtag(
    val start: Int,
    val end: Int
)
```

**Dataå±‚æ¨¡å‹ï¼ˆResponse DTOï¼‰**ï¼š
```kotlin
// data/model/FeedResponse.kt
data class FeedResponse(
    @SerializedName("status_code")
    val statusCode: Int,
    @SerializedName("has_more")
    val hasMore: Int,
    @SerializedName("post_list")
    val postList: List<PostDto>?
)

data class PostDto(
    @SerializedName("post_id")
    val postId: String,
    val title: String,
    val content: String,
    val hashtag: List<HashtagDto>,
    @SerializedName("create_time")
    val createTime: Long,
    val author: AuthorDto,
    val clips: List<ClipDto>,
    val music: MusicDto?
)

// Mapper: DTO -> Domain
//fun PostDto.toDomain(): Post = Post(...)
```

---

## ğŸ’¾ æœ¬åœ°å­˜å‚¨æ–¹æ¡ˆ

ä½¿ç”¨ **MMKV** å­˜å‚¨ä»¥ä¸‹æ•°æ®ï¼š

### å­˜å‚¨é¡¹

| Key | ç±»å‹ | è¯´æ˜ |
|-----|------|------|
| `like_status_{post_id}` | Boolean | æŸä½œå“çš„ç‚¹èµçŠ¶æ€ |
| `follow_status_{user_id}` | Boolean | æŸç”¨æˆ·çš„å…³æ³¨çŠ¶æ€ |
| `music_mute_status` | Boolean | éŸ³ä¹é™éŸ³çŠ¶æ€ï¼ˆAPPç”Ÿå‘½å‘¨æœŸå†…ï¼‰ |

### ä½¿ç”¨ç¤ºä¾‹

```kotlin
// util/PreferencesManager.kt
class PreferencesManager {
    private val mmkv = MMKV.defaultMMKV()

    fun setLikeStatus(postId: String, isLiked: Boolean) {
        mmkv.encode("like_status_$postId", isLiked)
    }

    fun getLikeStatus(postId: String): Boolean {
        return mmkv.decodeBool("like_status_$postId", false)
    }

    fun setFollowStatus(userId: String, isFollowed: Boolean) {
        mmkv.encode("follow_status_$userId", isFollowed)
    }

    fun getFollowStatus(userId: String): Boolean {
        return mmkv.decodeBool("follow_status_$userId", false)
    }
}
```

---

## ğŸ¨ UIè®¾è®¡è§„èŒƒ

### è®¾è®¡ç¨¿
- **Figmaé“¾æ¥**ï¼šhttps://www.figma.com/design/REGsGFaHnc7rjyvHfkeOy4/...
- **è¦æ±‚**ï¼šä¸¥æ ¼æŒ‰ç…§è®¾è®¡ç¨¿æ ‡æ³¨å®ç°ï¼ŒåŒ…æ‹¬é—´è·ã€é¢œè‰²ã€å­—ä½“å¤§å°ç­‰

### å…³é”®å°ºå¯¸
- åŒåˆ—é—´è·ï¼š8dp
- å¡ç‰‡åœ†è§’ï¼š12dp
- åº•éƒ¨å¯¼èˆªé«˜åº¦ï¼š56dp
- é¡¶éƒ¨Tabé«˜åº¦ï¼š48dp

### é¢œè‰²ä¸»é¢˜
å‚è€ƒ `ui/theme/Color.kt`ï¼Œç¡®ä¿é¢œè‰²ç¬¦åˆMaterial Designè§„èŒƒ

---

## ğŸ§ª æµ‹è¯•è¦ç‚¹

### åŠŸèƒ½æµ‹è¯•
- [ ] åº•éƒ¨å¯¼èˆªåˆ‡æ¢æ­£å¸¸
- [ ] åŒåˆ—ç€‘å¸ƒæµåŠ è½½æ˜¾ç¤ºæ­£å¸¸
- [ ] ä¸‹æ‹‰åˆ·æ–°å’Œä¸Šæ»‘åŠ è½½æ›´å¤š
- [ ] ç‚¹å‡»å¡ç‰‡è·³è½¬è¯¦æƒ…é¡µ
- [ ] è¯¦æƒ…é¡µæ¨ªæ»‘åˆ‡æ¢å›¾ç‰‡
- [ ] ç‚¹èµã€å…³æ³¨çŠ¶æ€åˆ‡æ¢å’ŒæŒä¹…åŒ–
- [ ] è¯é¢˜è¯ç‚¹å‡»è·³è½¬

### æ€§èƒ½æµ‹è¯•
- [ ] åˆ—è¡¨å¿«é€Ÿæ»‘åŠ¨ä¸å¡é¡¿
- [ ] å›¾ç‰‡åŠ è½½ä¸é˜»å¡UI
- [ ] æ— æ˜æ˜¾å†…å­˜æ³„æ¼
- [ ] æ— æ˜æ˜¾å‘çƒ­

### å…¼å®¹æ€§æµ‹è¯•
- [ ] ä¸åŒå±å¹•å°ºå¯¸é€‚é…
- [ ] Android 7.0+ ç³»ç»Ÿå…¼å®¹
- [ ] ç½‘ç»œå¼‚å¸¸å¤„ç†ï¼ˆæ— ç½‘ã€å¼±ç½‘ï¼‰

---

## ğŸš€ å¼€å‘å»ºè®®

### å¼€å‘é¡ºåº
1. æ­å»ºåŸºç¡€æ¡†æ¶ï¼ˆå¯¼èˆªã€ä¸»é¢˜ï¼‰
2. å®ç°æ•°æ®å±‚ï¼ˆAPIã€Repositoryï¼‰
3. å®ç°åŒåˆ—ç€‘å¸ƒæµåˆ—è¡¨
4. å®ç°è¯¦æƒ…é¡µåŸºç¡€åŠŸèƒ½
5. æ·»åŠ äº¤äº’åŠŸèƒ½ï¼ˆç‚¹èµã€å…³æ³¨ï¼‰
6. å®ç°è¿›é˜¶åŠŸèƒ½ï¼ˆè½¬åœºåŠ¨ç”»ã€éŸ³ä¹ç­‰ï¼‰
7. æ€§èƒ½ä¼˜åŒ–å’Œæµ‹è¯•

### æ³¨æ„äº‹é¡¹
1. **å›¾ç‰‡è£åˆ‡**ï¼šä¸¥æ ¼æŒ‰ç…§å®½é«˜æ¯”é™åˆ¶è£åˆ‡
2. **çŠ¶æ€ç®¡ç†**ï¼šä½¿ç”¨StateFlowæˆ–LiveDataç®¡ç†UIçŠ¶æ€
3. **é”™è¯¯å¤„ç†**ï¼šç½‘ç»œè¯·æ±‚å¤±è´¥ã€å›¾ç‰‡åŠ è½½å¤±è´¥ç­‰éœ€è¦æœ‰ç›¸åº”UIæç¤º
4. **å†…å­˜ç®¡ç†**ï¼šæ³¨æ„å›¾ç‰‡ç¼“å­˜ï¼Œé¿å…OOM
5. **ä»£ç è§„èŒƒ**ï¼šä¿æŒè‰¯å¥½çš„ä»£ç ç»“æ„å’Œå‘½åè§„èŒƒ

---

## ğŸ“¦ äº¤ä»˜ç‰©æ¸…å•

1. âœ… **æºç Gitåœ°å€**
2. âœ… **APKå®‰è£…åŒ…**
3. âœ… **æ¼”ç¤ºå½•å±**
4. âœ… **æŠ€æœ¯æ–¹æ¡ˆæ–‡æ¡£**
   - å®ç°æ–¹æ¡ˆ/æ¡†æ¶ä»‹ç»
   - å®ŒæˆåŠŸèƒ½åˆ—è¡¨
   - ä¸ªäººæ€è€ƒ

---

## ğŸ“ èµ„æºé“¾æ¥

- Figmaè®¾è®¡ç¨¿ï¼šhttps://www.figma.com/design/REGsGFaHnc7rjyvHfkeOy4/...
- APIæ¥å£ï¼šhttps://college-training-camp.bytedance.com/feed/
- Jetpack Composeæ–‡æ¡£ï¼šhttps://developer.android.com/jetpack/compose
- Frescoæ–‡æ¡£ï¼šhttps://frescolib.org/
- ExoPlayeræ–‡æ¡£ï¼šhttps://exoplayer.dev/
# Croissant App - æŠ€æœ¯æ–‡æ¡£

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
- [å®ç°æ–¹æ¡ˆ/æ¡†æ¶ä»‹ç»](#å®ç°æ–¹æ¡ˆæ¡†æ¶ä»‹ç»)
- [ä¸ªäººæ€è€ƒ](#ä¸ªäººæ€è€ƒ)

---

## é¡¹ç›®æ¦‚è¿°

### ä¸šåŠ¡å®šä½

Croissantæ˜¯ä¸€ä¸ªåŸºäºå­—èŠ‚è·³åŠ¨è®­ç»ƒè¥è¯¾é¢˜çš„**UGCå†…å®¹ç¤¾åŒºå®¢æˆ·ç«¯åº”ç”¨**ï¼Œæ¨¡ä»¿å¯é¢‚APPçš„æ ¸å¿ƒåŠŸèƒ½ï¼Œä¸ºç”¨æˆ·æä¾›å›¾æ–‡å†…å®¹çš„æµè§ˆã€äº’åŠ¨å’Œåˆ†äº«ä½“éªŒã€‚

**æ ¸å¿ƒç‰¹ç‚¹ï¼š**
- **äº§å“å®šä½**ï¼šUGCå†…å®¹ç¤¾åŒºï¼Œæ»¡è¶³ç”¨æˆ·ç»éªŒå†³ç­–ã€åœˆå±‚äº¤æµéœ€æ±‚
- **äº§å“å½¢æ€**ï¼šåŒåˆ—å›¾æ–‡è§†é¢‘æ··æ’ï¼Œä»¥å›¾æ–‡ä½“è£ä¸ºä¸»
- **æŠ€æœ¯æ ˆ**ï¼š(Kotlin + Java) + Jetpack Composeå®ç°çš„ç°ä»£åŒ–Androidåº”ç”¨

**ç«äº‰ä¼˜åŠ¿ï¼š**
- åŒåˆ—ç€‘å¸ƒæµå¸ƒå±€ï¼šå±æ•ˆæ¯”é«˜ï¼Œä¸€å±å±•ç¤ºå¤šä¸ªä½œå“ï¼Œä¾¿äºå†…å®¹ç­›é€‰
- å›¾æ–‡ä½“è£ä¸ºä¸»ï¼šä¿¡æ¯å¯†åº¦é«˜ã€å¯æ§æ„Ÿå¼ºã€åˆ›ä½œé—¨æ§›ä½
- ç¦»çº¿ç¼“å­˜æ”¯æŒï¼šæ— ç½‘ç»œç¯å¢ƒä¸‹ä»å¯æµè§ˆå·²ç¼“å­˜å†…å®¹

---

## å®ç°æ–¹æ¡ˆ/æ¡†æ¶ä»‹ç»

### 1. æ•´ä½“æ¶æ„è®¾è®¡

#### 1.1 æ¶æ„æ¨¡å¼ï¼šMVVM + Clean Architecture

æœ¬é¡¹ç›®é‡‡ç”¨**MVVMï¼ˆModel-View-ViewModelï¼‰**æ¶æ„æ¨¡å¼ï¼Œå®ç°é«˜å†…èšã€ä½è€¦åˆçš„ä»£ç ç»“æ„ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€-â”
â”‚                    Presentation Layer                    |
â”‚  (UI/ViewModel - Jetpack Compose + StateFlow)            |
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           |
â”‚  â”‚HomeScreen â”‚  â”‚DetailScn â”‚  â”‚ProfileScreen â”‚           |
â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜           |
â”‚        â”‚             â”‚                â”‚                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”           |
â”‚  â”‚HomeVM     â”‚  â”‚DetailVM  â”‚  â”‚ProfileVM     â”‚           |
â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜           |
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€-|
         â”‚             â”‚                â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Domain Layer                        | 
â”‚  (Business Logic - Pure Kotlin)                         |
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚  UseCases    â”‚  â”‚  Repository Interface  â”‚           â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”‚
â”‚  â”‚GetFeedUseCaseâ”‚  â”‚  FeedRepository        â”‚           â”‚
â”‚  â”‚GetDetailUse..â”‚  â”‚  - getFeed()           â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€--|
          â”‚                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Data Layer                        â”‚
â”‚  (Data Sources - Network + Local Storage)             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚FeedRepoImpl â”‚  â”‚  FeedApi     â”‚  â”‚ PostDao      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  (Retrofit)  â”‚  â”‚ (Room DB)    â”‚  â”‚
â”‚        â”‚          â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚        â”‚                 â”‚                  â”‚         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Data Mapping: DTO â†” Domain Model â†” Entity       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å„å±‚èŒè´£ï¼š**

| å±‚çº§ | èŒè´£ | å…³é”®ç»„ä»¶ | ä¾èµ–å…³ç³» |
|------|------|----------|----------|
| **Presentation** | UIæ¸²æŸ“ã€ç”¨æˆ·äº¤äº’ã€çŠ¶æ€ç®¡ç† | Composableå‡½æ•°ã€ViewModelã€StateFlow | ä¾èµ–Domainå±‚ |
| **Domain** | ä¸šåŠ¡é€»è¾‘ã€æ•°æ®åè°ƒã€ç”¨ä¾‹ç¼–æ’ | UseCaseã€Repositoryæ¥å£ã€é¢†åŸŸæ¨¡å‹ |
| **Data** | æ•°æ®è·å–ã€æŒä¹…åŒ–ã€ç½‘ç»œè¯·æ±‚ | APIã€DAOã€Repositoryå®ç°ã€Mapper | å®ç°Domainæ¥å£ |
---

#### 1.2 æ ¸å¿ƒæŠ€æœ¯æ ˆ

| æŠ€æœ¯é¢†åŸŸ | æ¡†æ¶/åº“ | ç‰ˆæœ¬ | ç”¨é€”è¯´æ˜                |
|---------|---------|------|---------------------|
| **æ„å»ºå·¥å…·** | Gradle | 8.13.1 | é¡¹ç›®æ„å»ºå’Œä¾èµ–ç®¡ç†           |
| **ç¼–ç¨‹è¯­è¨€** | Kotlin | 2.0.21 | ä¸»è¯­è¨€ï¼ŒKotlin, Javaå®ç°  |
| **UIæ¡†æ¶** | Jetpack Compose | 2024.09.00 | å£°æ˜å¼UIï¼ŒMaterial3è®¾è®¡   |
| **ä¾èµ–æ³¨å…¥** | Hilt | 2.48 | ä¾èµ–ç®¡ç†å’Œå¯¹è±¡æä¾›           |
| **ç½‘ç»œè¯·æ±‚** | Retrofit | 2.11.0 | RESTful APIè°ƒç”¨       |
| **JSONè§£æ** | Gson | 2.10.1 | æ•°æ®åºåˆ—åŒ–/ååºåˆ—åŒ–          |
| **æœ¬åœ°æ•°æ®åº“** | Room | 2.6.1 | SQLiteæŠ½è±¡å±‚ï¼Œç¦»çº¿ç¼“å­˜      |
| **å›¾ç‰‡åŠ è½½** | Coil | 2.5.0 | Composeä¸“ç”¨å›¾ç‰‡åŠ è½½åº“      |
| **å¼‚æ­¥ç¼–ç¨‹** | Coroutines | 1.7.3 | åç¨‹å¤„ç†å¼‚æ­¥æ“ä½œ            |
| **ç”Ÿå‘½å‘¨æœŸ** | Lifecycle | 2.8.7 | ViewModelã€LiveDataç­‰ |
| **å¯¼èˆª** | Navigation Compose | 2.8.5 | å•Activityå¤šå±å¹•å¯¼èˆª      |
| **åª’ä½“æ’­æ”¾** | Media3 (ExoPlayer) | 1.2.0 | è§†é¢‘æ’­æ”¾æ”¯æŒ              |

---

### 2. æ•°æ®æµæ¶æ„

#### 2.1 å•å‘æ•°æ®æµï¼ˆUnidirectional Data Flowï¼‰

æœ¬é¡¹ç›®ä¸¥æ ¼éµå¾ª**å•å‘æ•°æ®æµ**åŸåˆ™ï¼Œç¡®ä¿æ•°æ®æµåŠ¨çš„å¯é¢„æµ‹æ€§å’Œå¯è¿½æº¯æ€§ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    USER INTERACTION                   â”‚
â”‚         (ç‚¹å‡»ã€æ»‘åŠ¨ã€è¾“å…¥ç­‰ç”¨æˆ·æ“ä½œ)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   VIEW (Composable)                   â”‚
â”‚- viewModel.loadFeed()                                 |
â”‚- viewModel.toggleLike(postId)                         |
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      VIEWMODEL                        â”‚
â”‚   - è°ƒç”¨UseCaseæ‰§è¡Œä¸šåŠ¡é€»è¾‘                              â”‚
â”‚   - æ›´æ–°MutableStateFlow                               |
â”‚   - _uiState.value = newState                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€|
â”‚                 USE CASE                         
â”‚- åè°ƒRepositoryè·å–æ•°æ® ä¸šåŠ¡å¤„ç†                     
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€|
                    â”‚
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      REPOSITORY                       
â”‚- å†³ç­–æ•°æ®æºï¼ˆNetworkä¼˜å…ˆ â†’ Cacheé™çº§ï¼‰                    
â”‚- æ•°æ®è½¬æ¢ï¼ˆDTO â†’ Domain Modelï¼‰                         
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   NETWORK    â”‚        â”‚ LOCAL CACHE  â”‚
â”‚   (Retrofit) â”‚        â”‚ (Room + SP)  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                       â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   DATA MAPPING                        â”‚
â”‚   - PostDto â†’ Post (Domain Model)                     â”‚
â”‚   - Post â†’ PostEntity (Database Entity)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               COMPOSE RECOMPOSITION                   
â”‚   - collectAsState()ç›‘å¬StateFlow                      
â”‚   - çŠ¶æ€å˜åŒ–è§¦å‘UIé‡ç»„                                   
â”‚   - è‡ªåŠ¨æ›´æ–°ç•Œé¢æ˜¾ç¤º                                     
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
---

#### 2.2 æ•°æ®åŠ è½½
æœ¬åœ°çŠ¶æ€å¡«å……é€»è¾‘ï¼šä½¿ç”¨share preferenceå¡«å……ç‚¹èµå…³æ³¨æ•°æ®
HomeScreenå’ŒDetailScreen ç›´æ¥ä¼ é€’Postå¯¹è±¡æ¸²æŸ“UI
æœ¬åº”ç”¨å®ç°äº†åŸºç¡€çš„ç¦»çº¿ä¼˜å…ˆç­–ç•¥,ç¡®ä¿åœ¨æ— ç½‘ç»œç¯å¢ƒä¸‹ä»èƒ½æä¾›åŸºæœ¬åŠŸèƒ½ï¼š

**ç¼“å­˜ç­–ç•¥ï¼š**
HomeViewModel åˆæ¬¡åŠ è½½æ—¶å°†å¸–å­å­˜å…¥æ•°æ®åº“ã€‚ å½“æ— ç½‘ç»œæ‰“å¼€æ—¶ä¼˜å…ˆä»æ•°æ®åº“ä¸­è·å–å¸–å­ã€‚

| æ•°æ®ç±»å‹ | ä¸»å­˜å‚¨ | è¾…åŠ©å­˜å‚¨ | åŒæ­¥ç­–ç•¥ |
|---------|--------|----------|----------|
| **Feedåˆ—è¡¨** | Room Database | - | æ¯æ¬¡APIæˆåŠŸåæ›¿æ¢ |
| **ç‚¹èµçŠ¶æ€** | SharedPreferences | - | ç”¨æˆ·æ“ä½œç«‹å³å†™å…¥ |
| **å…³æ³¨çŠ¶æ€** | SharedPreferences | Room (FollowedUserè¡¨) | SPç«‹å³å†™å…¥ï¼ŒRoomå¼‚æ­¥åŒæ­¥ |
| **ç‚¹èµæ•°** | SharedPreferences | - | æœ¬åœ°è®¡ç®—ç»´æŠ¤ |

#### 2.3 æ•°æ®å±‚åŠŸèƒ½

| åŠŸèƒ½é¡¹ | æŠ€æœ¯è¦ç‚¹ |
|--------|----------|
| **Roomæ•°æ®åº“** |postsè¡¨ + followed_usersè¡¨ |
| **å¤æ‚å¯¹è±¡åºåˆ—åŒ–** |Gsonåºåˆ—åŒ–åµŒå¥—å¯¹è±¡ä¸ºJSON |
| **ç½‘ç»œè¯·æ±‚** | Retrofit + OkHttp + Gson |
| **SharedPreferences** ç‚¹èµ/å…³æ³¨çŠ¶æ€ + ç”¨æˆ·èµ„æ–™ |
| **DTOæ˜ å°„** | PostDto â†” Post â†” PostEntity |
---

### 3. UIæ¶æ„è®¾è®¡

#### 3.1 Jetpack Compose

- ä½¿ç”¨**Jetpack Compose**æ„å»ºUIï¼Œæ‘’å¼ƒä¼ ç»ŸXMLå¸ƒå±€ï¼š
#### UIç»„ä»¶åº“
| ç»„ä»¶å                     | åŠŸèƒ½æè¿°              | å¤ç”¨åœºæ™¯ | æ–‡ä»¶ä½ç½® |
|-------------------------|-------------------|----------|----------|
| **PostCard**            | å¸–å­å¡ç‰‡ï¼ˆå°é¢+æ ‡é¢˜+ä½œè€…+ç‚¹èµï¼‰ | é¦–é¡µFeedæµ | `PostCard.kt` |
| **BottomNavigationBar** | åº•éƒ¨å¯¼èˆªæ ï¼ˆ5ä¸ªTabï¼‰      | MainActivity | `BottomNavigationBar.kt` |
| **HomeTabRow**          | é¡¶éƒ¨Tabæ ï¼ˆ5ä¸ªTabï¼‰     | é¦–é¡µ | `HomeTabItem.kt` |
| **DetailTopBar**        | è¯¦æƒ…é¡µé¡¶æ ï¼ˆè¿”å›+ä½œè€…+å…³æ³¨ï¼‰   | è¯¦æƒ…é¡µ | `DetailTopBar.kt` |
| **DetailContent**       | è¯¦æƒ…é¡µå†…å®¹             | è¯¦æƒ…é¡µ | `DetailContent.kt` |
| **DetailBottomBar**     | è¯¦æƒ…é¡µåº•æ ï¼ˆè¯„è®ºæ¡†+æ“ä½œæŒ‰é’®ï¼‰   | è¯¦æƒ…é¡µ | `DetailBottomBar.kt` |
| **VideoPlayer**         | è§†é¢‘æ’­æ”¾å™¨ç»„ä»¶           | è¯¦æƒ…é¡µã€Feedæµ | `VideoPlayer.kt` |
|**HomeScreen**           | é¦–é¡µä¸»ç•Œé¢               | MainActivity | `HomeScreen.kt` |
|**DetailScreen**         | è¯¦æƒ…é¡µä¸»ç•Œé¢               | MainActivity | `DetailScreen.kt` |
|**ProfileScreen**        | ä¸ªäººä¸­å¿ƒ               | MainActivity | `ProfileScreen.kt` |
---

#### MainActivity 
| åŠŸèƒ½é¡¹                           | æŠ€æœ¯è¦ç‚¹         | æ–‡ä»¶ä½ç½®                     |
|-------------------------------|--------------|--------------------------|
| **bottomBar**                 | åº•éƒ¨å¯¼èˆªæ ï¼ˆ5ä¸ªTabï¼‰ | `BottomNavigationBar.kt` |
| **NavGraph**                  | æ ¹æ®åº•éƒ¨è·¯ç”±æ¸²æŸ“UIç”»é¢ | `NavGraph.kt`            |
---
#### 3.2 å®¶é¡µé¢

| åŠŸèƒ½é¡¹    | æŠ€æœ¯è¦ç‚¹ | æ–‡ä»¶ä½ç½® |
|--------|----------|-------|
| **HomeTabRow** | é¡¶éƒ¨Tabæ ï¼ˆ5ä¸ªTabï¼‰| `HomeTabItem.kt` |
| **CommunityTabContent** | ç¤¾åŒºTabå†…å®¹ï¼ˆé»˜è®¤Tabï¼‰ | `HomeScreen.kt` |
| **lazyVerticalStaggeredGrid** | åŒåˆ—ç€‘å¸ƒæµ | `HomeScreen.kt` |
| **PostCard** | å¸–å­å¡ç‰‡ï¼ˆå°é¢+æ ‡é¢˜+ä½œè€…+ç‚¹èµï¼‰ | `PostCard.kt` |

---
![postCard.png](https://github.com/haoyuh3/CrossiantApp/blob/d9b6ecf0be38c5d9e7b8cd02087976d2bc76e6b2/Progress/PostCard.png)
---
#### æ ¸å¿ƒåŠŸèƒ½å®ç°

**1. é¦–å±åŠ è½½** (presentation/home/HomeViewModel.kt:62-88)
**æµç¨‹**ï¼š
1. è®¾ç½®åŠ è½½çŠ¶æ€ `InitLoading`
2. è°ƒç”¨ `GetFeedUseCase` è·å–20æ¡æ•°æ®
3. ä½¿ç”¨ `fillWithLocalState()` å¡«å……æœ¬åœ°çŠ¶æ€ï¼ˆç‚¹èµã€å…³æ³¨ï¼‰
4. æ›´æ–° `_posts` å’Œ `_uiState`
5. æ ¹æ®æ•°æ®æ˜¯å¦ä¸ºç©ºè®¾ç½® `Empty` æˆ– `Success` çŠ¶æ€

**2. PullRefresh åŠŸèƒ½å®ç°ï¼š** (presentation/home/HomeViewModel.kt:93-114)
```kotlin
 // ä¸‹æ‹‰åˆ·æ–°çŠ¶æ€ï¼šè¿æ¥æ‰‹åŠ¿å’ŒU
val pullRefreshState = rememberPullRefreshState(
    refreshing = isRefreshing,
    onRefresh = { viewModel.refresh() }
)
```
- HomeScreen æ•æ‰æ‰‹åŠ¿å˜åŒ–ï¼Œå¼‚æ­¥æ”¹å˜çŠ¶æ€
- HomeViewModelæ‰§è¡Œåˆ·æ–°é€»è¾‘
---
**3. LoadMore åŠŸèƒ½å®ç°ï¼š** (presentation/home/HomeViewModel.kt)
- åŒåˆ—ç€‘å¸ƒæµä¸‹æ–¹æ”¾ç½®ä¸€ä¸ªåŠ è½½æ›´å¤šç»„ä»¶ã€‚å½“composeé‡ç»„åŠ è½½æ›´å¤šç»„ä»¶ï¼ŒUIçŠ¶æ€æ›´æ–°
- HomeViewModelè°ƒç”¨loadMoreé€»è¾‘

---
#### 3.3 å¸–å­è¯¦æƒ…æ¨¡å—

| åŠŸèƒ½é¡¹ | æŠ€æœ¯è¦ç‚¹                            | æ–‡ä»¶ä½ç½® |
|--------|---------------------------------|----------|
| è¯¦æƒ…é¡µå¯¼èˆª | Navigation Compose + postIdå‚æ•°ä¼ é€’ | `NavGraph.kt` |
| æ•°æ®åŠ è½½ | HomeScreenä¼ é€’å¯¹è±¡                  | `DetailViewModel.kt:41-74` |
| æ¨ªæ»‘å›¾ç‰‡è½®æ’­ | `HorizontalPager` + è¿›åº¦æŒ‡ç¤ºå™¨       | `DetailContent.kt:86-134` |
| å®½é«˜æ¯”è‡ªé€‚åº” | è¯»å–`Clip.displayAspectRatio`åŠ¨æ€è®¾ç½® | `DetailContent.kt:99` |
| ç‚¹èµäº¤äº’ | å³æ—¶UIæ›´æ–° + SharedPreferencesæŒä¹…åŒ–   | `DetailViewModel.kt:76-95` |
| å…³æ³¨åŠŸèƒ½ | UIæ›´æ–° + SP + RoomåŒå†™              | `DetailViewModel.kt:97-123` |
| ä½œè€…ä¿¡æ¯å±•ç¤º | å¤´åƒ + æ˜µç§° + å…³æ³¨æŒ‰é’®                  | `DetailTopBar.kt:22-82` |
| åº•éƒ¨æ“ä½œæ  | è¯„è®ºæ¡†(ç¦ç”¨) + ç‚¹èµ/è¯„è®º/æ”¶è—/åˆ†äº«æŒ‰é’®         | `DetailBottomBar.kt:23-119` |
---
![detail.image](https://github.com/haoyuh3/CrossiantApp/blob/b428012a7e6a35b8993e9b32c2105aeb4c8a896e/Progress/DetailScreen.png)
---

#### 3.4ä¸ªäººä¸­å¿ƒæ¨¡å—

| åŠŸèƒ½é¡¹ | æŠ€æœ¯è¦ç‚¹ | æ–‡ä»¶ä½ç½® |
|--------|----------|----------|
| ä¸ªäººä¿¡æ¯å±•ç¤º | å¤´åƒ + æ˜µç§° + ç®€ä»‹ | `ProfileScreen.kt:34-124` |
| ç»Ÿè®¡æ•°æ®å±•ç¤º | å…³æ³¨/ç²‰ä¸/è·èµæ•°ï¼ˆå ä½æ•°æ®ï¼‰ | `ProfileScreen.kt:92-123` |
| å¤´åƒç¼–è¾‘ | å›¾ç‰‡é€‰æ‹©å™¨ + URIæƒé™æŒä¹…åŒ– | `ProfileScreen.kt:150-169` |
| æ˜µç§°/ç®€ä»‹ç¼–è¾‘ | Dialogç¼–è¾‘ + SharedPreferenceså­˜å‚¨ | `ProfileScreen.kt:254-333` |
| ç¼–è¾‘å›¾æ ‡ | ç‚¹å‡»å¼¹å‡ºç¼–è¾‘å¯¹è¯æ¡† | `ProfileScreen.kt:127-147` |
---
![profile.image]()
---

#### 3.5 æ€§èƒ½ä¼˜åŒ–æŠ€æœ¯

**1. LazyListçš„Keyä¼˜åŒ–**
```kotlin
LazyVerticalStaggeredGrid {
    items(
        items = posts,
        key = { post -> post.postId }  // ç¨³å®šçš„å”¯ä¸€æ ‡è¯†ç¬¦
    ) { post ->
        PostCard(post)
    }
}
```
**æ•ˆæœï¼š**
- åˆ—è¡¨é¡¹ä½ç½®å˜åŒ–æ—¶ï¼ŒComposeèƒ½è¯†åˆ«åŒä¸€å¯¹è±¡ï¼Œé¿å…é‡å»º
- å‡å°‘ä¸å¿…è¦çš„é‡ç»„ï¼Œæå‡æ»šåŠ¨æ€§èƒ½

**2. å¼‚æ­¥å›¾ç‰‡åŠ è½½**
```kotlin
// ä½¿ç”¨Coilçš„SubcomposeAsyncImageå®ç°æ¸è¿›å¼åŠ è½½
SubcomposeAsyncImage(
    model = imageUrl,
    loading = { CircularProgressIndicator() },    // åŠ è½½æ€
    error = { Text("åŠ è½½å¤±è´¥") },                  // é”™è¯¯æ€
    contentScale = ContentScale.Crop
)
```

### 4. æ•°æ®å±‚è®¾è®¡

#### 4.1 æ•°æ®åº“è®¾è®¡ï¼ˆRoomï¼‰

**Schemaè®¾è®¡ï¼š**

```sql
-- postsè¡¨ï¼ˆå¸–å­ä¸»è¡¨ï¼‰
CREATE TABLE posts (
    post_id TEXT PRIMARY KEY NOT NULL,
    title TEXT NOT NULL,
    content TEXT NOT NULL,
    hashtags_json TEXT NOT NULL,      -- JSONåºåˆ—åŒ–çš„List<Hashtag>
    create_time INTEGER,
    author_json TEXT NOT NULL,         -- JSONåºåˆ—åŒ–çš„Authorå¯¹è±¡
    clips_json TEXT NOT NULL,          -- JSONåºåˆ—åŒ–çš„List<Clip>
    music_json TEXT,                   
    like_count INTEGER DEFAULT 0,
    is_liked INTEGER DEFAULT 0         
);

-- followed_usersè¡¨ï¼ˆå…³æ³¨ç”¨æˆ·è¡¨ï¼‰
CREATE TABLE followed_users (
    userId TEXT PRIMARY KEY NOT NULL,
    nickname TEXT NOT NULL,
    avatar TEXT NOT NULL,
    bio TEXT DEFAULT '',
    followedTime INTEGER DEFAULT (strftime('%s', 'now'))
);
```
**DAOæ¥å£è®¾è®¡ï¼š app/src/main/java/com/bytedance/croissantapp/data/local/dao/PostDao.java**

---

#### 4.2 ç½‘ç»œå±‚è®¾è®¡ï¼ˆRetrofitï¼‰

**APIæ¥å£å®šä¹‰ï¼š**

```kotlin
interface FeedApi {
    @GET("feed/")
    suspend fun getFeed(
        @Query("count") count: Int,
        @Query("accept_video_clip") acceptVideoClip: Boolean = false
    ): FeedResponse

    companion object {
        const val BASE_URL = "https://college-training-camp.bytedance.com/"
    }
}
```
**ç½‘ç»œé…ç½®ï¼ˆAppModule.ktï¼‰ï¼š**

---

#### 4.3 æ•°æ®è½¬æ¢å±‚ï¼ˆMapperï¼‰

**è½¬æ¢é“¾è·¯ï¼š**
```
Network DTO â†â†’ Domain Model â†â†’ Database Entity
  (PostDto)      (Post)          (PostEntity)
```

**å…³é”®Mapperå®ç°ï¼š**

```kotlin
// data/model/FeedResponse.kt
fun PostDto.toDomain(): Post {}

// data/local/mapper/PostMapper.kt
fun Post.toEntity(): PostEntity {}

fun PostEntity.toDomain(): Post {}
```

**è®¾è®¡åŸåˆ™ï¼š**
- Domain Modelæ˜¯çº¯ä¸šåŠ¡æ¨¡å‹ï¼Œä¸åŒ…å«ä»»ä½•åºåˆ—åŒ–æ³¨è§£
- DTOè´Ÿè´£ç½‘ç»œä¼ è¾“ï¼Œä½¿ç”¨`@SerializedName`é€‚é…åç«¯å­—æ®µ
- Entityè´Ÿè´£æ•°æ®åº“å­˜å‚¨

---

### 5. å¯¼èˆªç³»ç»Ÿ

#### Navigation Composeæ¶æ„
- æœ¬é¡¹ç›®ä½¿ç”¨**Navigation Compose**å®ç°å•Activityå¤šå±å¹•æ¶æ„ï¼š 
- è·¯ç”±å®šä¹‰ï¼ˆNavGraph.ktï¼‰
- HomeScreen
- ProfileScreen
- DetailScreen
#### åº•éƒ¨å¯¼èˆªæ å®ç°ï¼š BottomNavigationBar.kt
- 5ä¸ªBottomNavItem
- ä½¿ç”¨NavigationBar
---

### 6. ä¾èµ–æ³¨å…¥ï¼ˆHiltï¼‰AppModule.kt
---
#### 7. å·¥å…·ç±»

| å·¥å…·ç±» | åŠŸèƒ½ | æ–‡ä»¶ä½ç½® |
|--------|------|----------|
| **DateUtil** | æ—¶é—´æ ¼å¼åŒ–ï¼ˆç›¸å¯¹æ—¶é—´ï¼š"2å°æ—¶å‰"ï¼‰ | `util/DateUtil.kt` |
| **LikeCntUtil** | æ•°å­—æ ¼å¼åŒ–ï¼ˆ10000 â†’ "1.0w"ï¼‰ | `util/LikeCntUtil.kt` |
| **ImageUtil** | å›¾ç‰‡å¤„ç†å·¥å…· | `util/ImageUtil.kt` |
| **Constants** | åº”ç”¨å¸¸é‡å®šä¹‰ | `util/Constants.kt` |

---

### âš ï¸ æœªå®ç°/å¾…ä¼˜åŒ–åŠŸèƒ½

| åŠŸèƒ½é¡¹ | å½“å‰çŠ¶æ€   | å½±å“èŒƒå›´ | ä¼˜å…ˆçº§ |
|--------|--------|----------|--------|
| **è§†é¢‘æ’­æ”¾** | æ— å°é¢å¯æ’­æ”¾ | è¯¦æƒ…é¡µè§†é¢‘æ˜¾ç¤ºä¸ºé»‘è‰²æ¡† + æ’­æ”¾å›¾æ ‡ | ğŸ”´ é«˜ |
| **è¯„è®ºåŠŸèƒ½** | è¾“å…¥æ¡†ç¦ç”¨  | æ— æ³•å‘è¡¨è¯„è®º | ğŸŸ¡ ä¸­ |
| **æ”¶è—åŠŸèƒ½** | æŒ‰é’®å ä½   | ç‚¹å‡»æ— æ•ˆæœ | ğŸŸ¢ ä½ |
| **åˆ†äº«åŠŸèƒ½** | ä»…æ‰“å°æ—¥å¿—  | æ— æ³•åˆ†äº«å†…å®¹ | ğŸŸ¢ ä½ |
| **APIåŒæ­¥** | ä»…æœ¬åœ°å­˜å‚¨  | ç‚¹èµ/å…³æ³¨ä¸åŒæ­¥åˆ°æœåŠ¡å™¨ | ğŸ”´ é«˜ |
| **ç¼“å­˜è¿‡æœŸç­–ç•¥** | æ°¸ä¹…ç¼“å­˜   | æ•°æ®å¯èƒ½è¿‡æ—¶ | ğŸŸ¡ ä¸­ |
| **ç¦»çº¿æ“ä½œé˜Ÿåˆ—** | æ— é˜Ÿåˆ—    | ç¦»çº¿æ“ä½œä¸ä¼šé‡è¯• | ğŸŸ¡ ä¸­ |

---

## ä¸ªäººæ€è€ƒ

### 1. æ¶æ„è®¾è®¡çš„æ”¶è·
---
#### 1.1 MVVMåœ¨Composeä¸­çš„é€‚é…

ä¼ ç»ŸMVVMä½¿ç”¨LiveData + XMLï¼Œè¿ç§»åˆ°Composeåçš„å˜åŒ–ï¼š

| å¯¹æ¯”é¡¹ | ä¼ ç»ŸMVVM | Compose MVVM |
|--------|---------|--------------|
| **çŠ¶æ€å®¹å™¨** | LiveData | StateFlow / State |
| **UIæ›´æ–°è§¦å‘** | observe(lifecycle) { } | collectAsState() |
| **åŒå‘ç»‘å®š** | DataBinding | ä¸æ¨èï¼ˆå•å‘æ•°æ®æµï¼‰ |
| **ç”Ÿå‘½å‘¨æœŸæ„ŸçŸ¥** | LiveDataè‡ªåŠ¨å¤„ç† | collectAsStateWithLifecycle() |
---

### 2. æŠ€æœ¯é€‰å‹çš„åæ€

#### 2.1 Jetpack Composeçš„æ·±åº¦åº”ç”¨

**é€‰å‹ç†ç”±ï¼š**
- âœ… **å£°æ˜å¼UI**å‡å°‘80%çš„æ ·æ¿ä»£ç ï¼ˆç›¸æ¯”XML + findViewByIdï¼‰
- âœ… **ç±»å‹å®‰å…¨**ï¼šç¼–è¯‘æœŸæ£€æŸ¥ï¼Œå‡å°‘NullPointerException
- âœ… **é¢„è§ˆåŠŸèƒ½**ï¼š`@Preview`æ³¨è§£å®ç°ç»„ä»¶çº§è°ƒè¯•

**å®è·µä¸­çš„"å‘"ï¼š**

1. **é‡ç»„æ€§èƒ½é—®é¢˜**
   ```kotlin
   // ä½¿ç”¨remember
   @Composable
   fun GoodExample() {
       val items = remember { listOf("A", "B", "C") }
       LazyColumn { items(items) { ... } }
   }
   ```

2. **å‰¯ä½œç”¨ç®¡ç†æ··æ·†**
   - `LaunchedEffect`ï¼šä¸€æ¬¡æ€§æ“ä½œï¼ˆå¦‚æ•°æ®åŠ è½½ï¼‰
   - `DisposableEffect`ï¼šéœ€è¦æ¸…ç†çš„å‰¯ä½œç”¨ï¼ˆå¦‚æ³¨å†Œç›‘å¬å™¨ï¼‰
   - `SideEffect`ï¼šæ¯æ¬¡é‡ç»„éƒ½æ‰§è¡Œï¼ˆæå°‘ä½¿ç”¨ï¼‰

**ç»éªŒæ€»ç»“ï¼š**
- åˆæœŸé‡ç»„å¼€é”€å¤§ï¼Œéœ€è¦é…åˆ`remember`ã€`derivedStateOf`ä¼˜åŒ–
- å­¦ä¹ æ›²çº¿é™¡å³­ï¼Œä½†æŒæ¡åå¼€å‘æ•ˆç‡æ˜¾è‘—æå‡

---

#### 2.2 Room vs. åŸç”ŸSQLite

**é€‰æ‹©Roomçš„åŸå› ï¼š**
- âœ… ç¼–è¯‘æœŸSQLè¯­æ³•æ£€æŸ¥ï¼ˆæ‹¼å†™é”™è¯¯ç›´æ¥æŠ¥é”™ï¼‰
- âœ… è‡ªåŠ¨å¤„ç†LiveData/Flowçš„æ•°æ®åº“è§‚å¯Ÿ
- âœ… ç±»å‹å®‰å…¨çš„æŸ¥è¯¢ç»“æœ

**é‡åˆ°çš„é™åˆ¶ï¼š**
- âŒ ä¸æ”¯æŒå¤æ‚å¯¹è±¡åµŒå¥—ï¼ˆéœ€è¦æ‰‹åŠ¨JSONåºåˆ—åŒ–ï¼‰
- âŒ è¿ç§»è„šæœ¬è¾ƒå¤æ‚ï¼ˆæœ¬é¡¹ç›®ä½¿ç”¨`fallbackToDestructiveMigration`è§„é¿ï¼‰

**æ”¹è¿›ç©ºé—´ï¼š**
- è€ƒè™‘ä½¿ç”¨kotlinx.serializationæ›¿ä»£Gsonï¼ˆæ›´å¿«ã€æ›´å®‰å…¨ï¼‰
- å¯¹äºå¤§å‹é¡¹ç›®ï¼Œå¯ä»¥å¼•å…¥æ•°æ®åº“ç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼ˆå¦‚FlywayDBï¼‰

---


#### 3.2 ç¦»çº¿ä¼˜å…ˆç­–ç•¥çš„å±€é™

**å½“å‰å®ç°ï¼š**
```kotlin
suspend fun getFeed(): Result<List<Post>> {
    return try {
        // 1. å°è¯•ç½‘ç»œè¯·æ±‚
        val posts = api.getFeed()
        // 2. æˆåŠŸåæ›´æ–°ç¼“å­˜
        dao.replaceAll(posts)
        Result.success(posts)
    } catch (e: Exception) {
        // 3. å¤±è´¥æ—¶è¯»å–ç¼“å­˜
        val cached = dao.getAllPosts()
        if (cached.isNotEmpty()) Result.success(cached)
        else Result.failure(e)
    }
}
```

**å­˜åœ¨çš„é—®é¢˜ï¼š**

1. **ç¼ºå°‘ç¼“å­˜è¿‡æœŸç­–ç•¥ï¼ˆTTLï¼‰**
   - ç”¨æˆ·å¯èƒ½çœ‹åˆ°ä¸€å‘¨å‰çš„æ—§æ•°æ®
   - è§£å†³æ–¹æ¡ˆï¼šæ·»åŠ `cached_at`å­—æ®µï¼Œè¶…è¿‡1å°æ—¶å¼ºåˆ¶åˆ·æ–°
---

### 4. å½“å‰æ¶æ„çš„ä¸è¶³ä¸æ”¹è¿›æ–¹æ¡ˆ

#### 4.1 å…³é”®é—®é¢˜ï¼šç”¨æˆ·æ“ä½œæœªåŒæ­¥åˆ°æœåŠ¡å™¨

**åæœï¼š**
- ç”¨æˆ·æ¢è®¾å¤‡åæ‰€æœ‰ç‚¹èµè®°å½•ä¸¢å¤±
- ä½œè€…çœ‹ä¸åˆ°ç‚¹èµæ•°å¢åŠ 
- æ— æ³•å®ç°è·¨ç«¯åŒæ­¥

**æ”¹è¿›æ–¹æ¡ˆ1ï¼šä¹è§‚æ›´æ–° + åå°åŒæ­¥**

#### 4.2 ç¼ºå°‘æ•°æ®ä¸€è‡´æ€§ä¿è¯

**é—®é¢˜åœºæ™¯ï¼š**
```
æ—¶é—´çº¿ï¼š
10:00 - ç”¨æˆ·Aåœ¨é¦–é¡µç‚¹èµå¸–å­Xï¼ˆæœ¬åœ°è®¡æ•° = 100ï¼‰
10:05 - ç”¨æˆ·Bä¹Ÿç‚¹èµäº†å¸–å­Xï¼ˆæœåŠ¡å™¨è®¡æ•° = 101ï¼‰
10:10 - ç”¨æˆ·Aåˆ·æ–°é¦–é¡µï¼ˆAPIè¿”å›è®¡æ•° = 200ï¼Œç”¨æˆ·Açš„ç‚¹èµè¢«è¦†ç›–ï¼ï¼‰
```

**æ ¹æœ¬åŸå› ï¼š**
- ç‚¹èµæ•°åŒæ—¶å­˜åœ¨äºSharedPreferenceså’ŒAPIå“åº”
- æ²¡æœ‰å†²çªè§£å†³ç­–ç•¥
---

### 6. é¡¹ç›®æ€»ç»“ä¸æœªæ¥å±•æœ›

#### 6.1 æŠ€æœ¯èƒ½åŠ›æå‡

é€šè¿‡Croissanté¡¹ç›®çš„å¼€å‘ï¼Œç³»ç»Ÿæ€§åœ°æŒæ¡äº†ï¼š

| æŠ€æœ¯é¢†åŸŸ | å…·ä½“æ”¶è· | åº”ç”¨åœºæ™¯ |
|---------|---------|----------|
| **Jetpack Compose** | å£°æ˜å¼UIã€çŠ¶æ€ç®¡ç†ã€æ€§èƒ½ä¼˜åŒ– | ç°ä»£Androidå¼€å‘å¿…å¤‡ |
| **Clean Architecture** | åˆ†å±‚è®¾è®¡ã€ä¾èµ–å€’ç½®ã€æµ‹è¯•é©±åŠ¨ | ä¸­å¤§å‹é¡¹ç›®æ¶æ„ |
| **Kotlin Coroutines** | å¼‚æ­¥ç¼–ç¨‹ã€ç»“æ„åŒ–å¹¶å‘ã€Flow | ç½‘ç»œè¯·æ±‚ã€æ•°æ®åº“æ“ä½œ |
| **Hiltä¾èµ–æ³¨å…¥** | æ¨¡å—åŒ–ã€å¯æµ‹è¯•æ€§ã€å¯¹è±¡ç”Ÿå‘½å‘¨æœŸç®¡ç† | ä¼ä¸šçº§åº”ç”¨å¼€å‘ |
| **Roomæ•°æ®åº“** | ORMæ˜ å°„ã€æ•°æ®æŒä¹…åŒ–ã€è¿ç§»ç®¡ç† | ç¦»çº¿ä¼˜å…ˆåº”ç”¨ |

---

#### 6.2 å¾…å®ç°åŠŸèƒ½è§„åˆ’

**çŸ­æœŸç›®æ ‡ï¼ˆ1-2å‘¨ï¼‰ï¼š**
- [ ] **éŸ³ä¹æ’­æ”¾åŠŸèƒ½**
- 
- [ ] **APIåŒæ­¥æœºåˆ¶**
  - ç‚¹èµ/å…³æ³¨æ“ä½œè°ƒç”¨åç«¯API
  - WorkManagerå®ç°ç¦»çº¿é˜Ÿåˆ—
  - å†²çªè§£å†³ç­–ç•¥

**ä¸­æœŸç›®æ ‡ï¼ˆ1ä¸ªæœˆï¼‰ï¼š**
- [ ] **è¯„è®ºç³»ç»Ÿ**
  - è¯„è®ºåˆ—è¡¨å±•ç¤ºï¼ˆRecyclerView â†’ LazyColumnï¼‰
  - å›å¤åŠŸèƒ½ï¼ˆåµŒå¥—è¯„è®ºï¼‰
  - @æåŠç”¨æˆ·

- [ ] **ç¼“å­˜ç­–ç•¥ä¼˜åŒ–**
  - æ·»åŠ TTLï¼ˆTime-To-Liveï¼‰
  - å·®å¼‚æ›´æ–°ï¼ˆDelta Syncï¼‰
  - ç¼“å­˜å®¹é‡ç®¡ç†ï¼ˆLRUæ·˜æ±°ï¼‰
---

#### 6.3 åæ€ä¸æ„Ÿæ‚Ÿ

**æˆåŠŸç»éªŒï¼š**
1. **æ¸è¿›å¼å¼€å‘**ï¼šå…ˆå®ç°æ ¸å¿ƒåŠŸèƒ½ï¼ˆFeedæµï¼‰ï¼Œå†å®Œå–„ç»†èŠ‚ï¼ˆç‚¹èµã€å…³æ³¨ï¼‰
2. **æ–‡æ¡£é©±åŠ¨**ï¼šåœ¨å¼€å‘è¿‡ç¨‹ä¸­åŒæ­¥æ›´æ–°READMEï¼Œé™ä½ç»´æŠ¤æˆæœ¬
3. **å·¥å…·é“¾ç†Ÿæ‚‰**ï¼šç†Ÿç»ƒä½¿ç”¨Android Studioè°ƒè¯•å·¥å…·ã€Layout Inspectorã€Profiler

**é‡åˆ°çš„æŒ‘æˆ˜ï¼š**
1. **Composeå­¦ä¹ æ›²çº¿**ï¼šåˆæœŸå¯¹é‡ç»„æœºåˆ¶ç†è§£ä¸è¶³ï¼Œå¯¼è‡´æ€§èƒ½é—®é¢˜
2. **çŠ¶æ€ç®¡ç†æ··ä¹±**ï¼šä¸€åº¦åŒæ—¶ä½¿ç”¨LiveDataã€StateFlowã€Stateï¼Œåç»Ÿä¸€ä¸ºStateFlow
3. **è¿‡åº¦è®¾è®¡**ï¼šæ—©æœŸä¸ºç®€å•åŠŸèƒ½åˆ›å»ºè¿‡å¤šæŠ½è±¡å±‚ï¼ŒåæœŸç®€åŒ–

**å…³é”®æ•™è®­ï¼š**
> "æ¶æ„è®¾è®¡è¦æœåŠ¡äºä¸šåŠ¡éœ€æ±‚ï¼Œè€Œéä¸ºäº†è®¾è®¡è€Œè®¾è®¡ã€‚"

**ç»™æœªæ¥è‡ªå·±çš„å»ºè®®ï¼š**
- âœ… ä¿æŒä»£ç ç®€æ´ï¼Œæ‹’ç»è¿‡æ—©ä¼˜åŒ–
- âœ… é‡è§†å•å…ƒæµ‹è¯•ï¼Œæå‡ä»£ç è´¨é‡
- âœ… å®šæœŸCode Reviewï¼Œå­¦ä¹ ä¸šç•Œæœ€ä½³å®è·µ
- âœ… å…³æ³¨ç”¨æˆ·ä½“éªŒï¼ŒæŠ€æœ¯ä¸ºäº§å“æœåŠ¡

---

## é™„å½•

### A. é¡¹ç›®è¿è¡Œç¯å¢ƒ

| é¡¹ç›® | è¦æ±‚ |
|------|------|
| **æœ€ä½Androidç‰ˆæœ¬** | API 24 (Android 7.0) |
| **ç›®æ ‡Androidç‰ˆæœ¬** | API 36 (Android 14+) |
| **Kotlinç‰ˆæœ¬** | 2.0.21 |
| **Gradleç‰ˆæœ¬** | 8.13.1 |
| **JDKç‰ˆæœ¬** | JDK 11 |

### B. æ ¸å¿ƒä¾èµ–æ¸…å•

```kotlin
dependencies {
    // Compose
    implementation(platform("androidx.compose:compose-bom:2024.09.00"))
    implementation("androidx.compose.ui:ui")
    implementation("androidx.compose.material3:material3")

    // Hilt
    implementation("com.google.dagger:hilt-android:2.48")
    kapt("com.google.dagger:hilt-compiler:2.48")

    // Retrofit
    implementation("com.squareup.retrofit2:retrofit:2.11.0")
    implementation("com.squareup.retrofit2:converter-gson:2.11.0")

    // Room
    implementation("androidx.room:room-runtime:2.6.1")
    implementation("androidx.room:room-ktx:2.6.1")
    kapt("androidx.room:room-compiler:2.6.1")

    // Coil
    implementation("io.coil-kt:coil-compose:2.5.0")
}
```

### C. å‚è€ƒèµ„æº

- [Jetpack Composeå®˜æ–¹æ–‡æ¡£](https://developer.android.com/jetpack/compose)
- [Androidæ¶æ„æŒ‡å—](https://developer.android.com/topic/architecture)
- [Kotlin Coroutineså®˜æ–¹æŒ‡å—](https://kotlinlang.org/docs/coroutines-guide.html)
- [Roomæ•°æ®åº“æ–‡æ¡£](https://developer.android.com/training/data-storage/room)

---

**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0
**æœ€åæ›´æ–°**ï¼š2025-12-01
**ä½œè€…**ï¼šCroissanté¡¹ç›®ç»„
**è”ç³»æ–¹å¼**ï¼š[é¡¹ç›®ä»“åº“](https://github.com/haoyuh3/CrossiantApp)